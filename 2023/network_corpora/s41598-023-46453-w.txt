introduction mössbauer spectroscopy technique based mössbauer effect involves resonant recoil-free emission absorption gamma radiation atomic nucleus bound solid using mössbauer spectroscopy small change measured chemical environment mössbauer nucleus e.g. 57-fe many application mössbauer spectroscopy analytical chemistry material science determining chemical state crystal structure iron compound cultural asset without damaging a.k.a nondestructive testing figure show typical configuration mössbauer spectrometer comprises three primary component radioactive source collimator filter nonparallel gamma ray photon detector mössbauer spectral measurement radioactive source oscillated linear motor specific velocity range generate doppler effect process allows gamma ray shifted amount proportional velocity radioactive source gamma ray energy scanned specific range mössbauer spectrum obtained subsystem driving gamma ray source called velocity modulator generally consists linear motor linear sensor dedicated servo controller since mössbauer spectroscopy depends motion gamma ray source velocity modulator must designed precise stable motion control basic concept velocity modulator including structure dual coil driving coil sensing coil operating principle based electromagnetic phenomenon established decade ago driving coil realizes motion based lorentz force actuation unit also called voice coil motor vcm fast response simple structure sensing coil analog linear velocity transducer lvt based faraday law induction output voltage signal proportional speed application precise speed control required short stroke velocity modulators lvt offer great advantage measuring speed digital linear encoder used general servo system requires numerical differentiation process resolution encoder limitation sampling period may reduce accuracy speed measurement abovementioned reason vcm lvt suitable mechanism velocity modulators therefore many related study commercial product adopted similar structure study investigates vcm lvt basic component velocity modulator figure mössbauer spectrometer schematic diagram two type configuration full size image conventional velocity modulators wire string kapton wire nylon wire etc commonly used motion guide spring wire-based method easy install ighten moving part greatly reduce friction experience despite effectiveness method tension wire string may change time reduces ability keep performance velocity modulator stable address issue membrane spring thin-plate spring introduced alternative wire string even though membrane spring maintain tension longer period wire-based method simple design geometry pattern required stiffness also difficult precisely machine designed membrane pattern moreover special care must taken assembling system early stage study thin-plate spring considered however spring installed prone torsion buckling permanent deformation limit cause nonlinear characteristic adversely affect speed control consequently study investigated linear bearing motion guiding part preloaded compression spring position returning spring method clearly different previous mechanism wire membrane spring hand study consider development velocity modulators addressed improvement controller main topic rather mechanical structure early velocity modulators analog controller using operational amplifier op-amps usually applied analog controller provide high-resolution fast signal processing speed vulnerable noise require change circuit design modify control parameter algorithm therefore recent study used digital controller high-speed processor digital controller modify customize control algorithm software programming example algorithm reported automatically tuned value control parameter based digital controller however linear amplifier still used motor driving circuit contrast switching amplifier used study switching amplifier better energy efficiency linear type generates heat advantageous long-term use table performance commercial velocity modulators full size table study present high-performance velocity modulator portable mössbauer spectrometer portable mössbauer spectrometer required handle sample brought laboratory environment cultural object must damaged back-scattering type velocity modulator gamma-ray detector integrated single housing fig therefore smaller lighter velocity modulator greater mobility mössbauer spectrometer commercially available velocity modulators large heavy table made general purpose drive heavy sample high speed mainly target transmission configuration therefore task described herein design velocity modulator compact lighter used existing commercial product study prototype velocity modulator developed good performance distinguishable feature existing device method design requirement design requirement study based typical operating condition mössbauer spectrometer targeting 57-fe sample driving velocity range approximately ±10 mm/s cover appropriate energy shifting range gamma ray 57-fe sample table show maximum speed commercial product greater mm/s general purpose including sample 57-fe corresponding source study targeted 57-fe need provide wide range speed similar commercial product velocity modulator oscillates radioactive source cyclic triangular waveform typically target velocity profile profile offer advantage shorter dead time velocity transition point movement nonlinear case frequency set amplitude set mm/s triangular velocity profile required stroke calculated acceleration m/s scanning rate frequency velocity profile typically set close resonance frequency velocity modulation system maximize energy efficiency scanning rate increase required stroke decrease required acceleration increase conversely scanning rate decrease required acceleration decrease required stroke increase therefore designing mechanical system vcm essential consider sufficient margin moving stroke acceleration performance i.e. power linear motor lvt higher voltage output ratio velocity higher sensitivity thus higher signal-to-noise ratio advantageous precise control design goal established lvt aim achieve higher sensitivity commercial product table mechanical system design figure designed velocity modulator structure component mössbauer source full size image figure illustrates structure major component proposed velocity modulator linear motion guide essential reducing friction driving direction supporting lateral force design used commercial linear bearing ball-slide type bsgm6-25 misumi linear motion guide rather wire membrane spring selected linear bearing low friction stable movement although make moving part slightly heavier made wire membrane spring mechanically durable mechanical structure achieve better stability two linear bearing employed symmetrically installed respect moving shaft however motion two guide accurately aligned along moving axis design may result increase frictional resistance moving part therefore study one linear bearing utilized limit position range moving part prevent position drift velocity control commercial compression spring wf3-10 misumi used returning spring compared wire membrane spring compression spring offer longer lifespan reduced risk permanent deformation assembly minimal change spring stiffness furthermore compression spring commercially available variety specification easy use replace compression spring installed side linear bearing slightly preloaded prevent easy disassembling due restoring force preload spring position moving part maintained center without drifting toward either end stroke idle state stationary part vcm lvt fixed base frame component hollow structure moving shaft pass center movable part vcm lvt securely connected either end shaft moving single rigid body additionally shaft connected carrier linear bearing link plate rail linear bearing fixed base frame radioactive source installed moving shaft via thread example available mössbauer source shown fig study stainless-steel sus304 dummy source using dimension weight source fig constructed used experiment section electromagnetic system design structure vcm lvt designed similar geometry shown fig unlike many existing velocity modulators use axially magnetized permanent magnet magnetic core study radially magnetized magnet employed minimize magnetic leakage reduce energy loss purpose bar-shaped neodymium permanent magnet n35 15\times 5\times attached inner surface yoke low carbon steel ss400 arranged circumferential direction magnetic flux shown fig pas radial direction use circular array bar-shaped magnet cost-effective feasible alternative toroid magnet rectangular section radial magnetization dimension d_1\ d_2\ indicated fig important parameter magnetic circuit vcm lvt influence magnetic flux density within air gap parameter correlated number element magnet array well dimension number turn solenoid coil several constraint existed design yoke first d_1\ needed dimensional margin compared outer diameter solenoid coil prevent interference mechanical movement solenoid coil study coil winding jig diameter 20.2 employed vcm lvt reduce coil manufacturing cost consequently flexibility adjust d_1\ limited second dimension d_2\ determined based number bar-shaped magnet could arranged yoke circumferential direction third value based height magnet figure structure vcm lvt exploded view cross section full size image solenoid coil determination coil turn approached distinctly vcm lvt system depending respective requirement actuator sensor case vcm increasing number coil turn lead higher force output even reduced coil current effectively increase force constant force-to-current ratio however number coil turn increase coil resistance increase correspondingly may necessitate higher supply voltage maintain current value therefore achieving comprehensive balance vcm coil turn resistance supply voltage crucial study electromagnetic static analysis used estimate force constant vcm depending coil parameter flux altair lvt increasing number coil turn within volume lead increase coil voltage output coil velocity effectively enhancing measurement sensitivity therefore copper wire thin diameter selected increase number turn limited space study transient analysis used estimate sensitivity lvt depending coil parameter coil movement flux altair table summarizes design parameter vcm lvt identifying appropriate parameter value trial error considering size yoke magnet thickness slight margin diameter solenoid coil vcm lvt coil height adjusted height permanent magnet thereby increasing utilization rate magnetic flux air gap table design parameter system full size table electromagnetic analysis analysis vcm possible estimate permeance line magnetic core determine operating point permanent magnet calculate resulting flux density air gap subsequently force force constant vcm computed using formula lorentz force aligned aligned analysis designed vcm shown fig middle position air gap vcm coil pass magnetic flux density distributed shown fig force direction motion i.e. -axis fig related -axis component magnetic flux density shown fig -axis component magnetic flux density relatively uniform range vcm coil force constant vcm calculated approximately n/a fig therefore even vcm coil current generate acceleration m/s ^2\ moving mass moving part consists various mechanical component including coil assembly shaft link plate carrier ball-slide bearing bolt nut total mass moving part designed small several ten gram thus designed vcm handle substantial range acceleration lvt like vcm permeance line magnetic core determined operating point permanent magnet flux density air gap estimated becomes possible calculate induced electromotive force coil movement velocity-to-voltage ratio measurement sensitivity lvt calculation based faraday law electromagnetic induction aligned d\vec aligned result analysis designed lvt presented fig output voltage lvt simulated controlling coil velocity follow triangular profile mm/s end coil maintained open i.e. middle position air gap lvt coil pass magnetic flux density distributed shown fig coil voltage generated speed moving direction i.e. -axis fig related -axis component magnetic flux density shown fig -axis component magnetic flux density range coil installed uniform except end sensitivity mm/s estimated aproximately 0.58 fig supplementary fig figure result analysis vcm magnetic flux density distribution magnetic flux density line region interest middle air gap force–displacement property full size image figure result analysis lvt magnetic flux density distribution magnetic flux density line region interest middle air gap imposed velocity simulation simulated lvt signal full size image figure simulation result magnetic shielding magnetic flux density distribution magnetic flux density line region interest vcm–lvt middle line full size image magnetic shielding minimizing magnetic interference vcm lvt advantageous reducing noise lvt achieving precise control vcm depicted fig yoke vcm lvt arranged open opposite direction configuration determined analysis evaluate leakage flux magnetic interference analysis result fig demonstrate yoke vcm lvt function type metal barrier effectively limiting interference magnetic flux component magnetic flux density intermediate position vcm lvt illustrated fig average magnitude magnetic flux density measuring supplementary fig control system design figure block diagram control system full size image figure reference motion profile jerk limitation full size image overview proposed control system shown fig lvt signal pair input differential instrumentation amplifier amplification gain low-pass filter used reduce signal noise lvt signal pair entering instrumentation amplifier output signal instrumentation amplifier input main controller stm32g431kb stmicroelectronics converted 12-bit digital value analog-to-digital conversion adc configured triggered synchronized pulse-width modulation pwm signal sampling midpoint pulse width rather edge pwm signal approach help decrease signal contamination caused switching noise sampling adc process oversample eight time high rate average eight sample oversampling averaging employed reduce influence impulse noise h-bridge switching amplifier drv8876 texas instrument used motor driving circuit control signal switching amplifier pwm signal control resolution switching amplifier dependent pwm resolution pwm signal generated time increased resolution employing dithering technique enabled precise control motor supply voltage pwm signal high frequency khz minimize vcm coil current ripple configured complementary mode complementary pwm mode enables smoother transition voltage applied motor compared normal pwm mode control algorithm based proportional feedback control performance target tracking improved adding feedforward controller based iterative learning algorithm mössbauer velocity modulator repetitive motion performed constant velocity profile much variation load therefore iterative learning method applied work well condition based calculating feedforward value add control output previous iteration new control output iterative learning-based feedforward calculation formula shown final control value calculated using feedforward feedback control method control gain tuned trial error aligned k_1 k-1 k_2 k-1 aligned aligned k_p +u_ aligned motion profile design mentioned design requirement section triangular velocity profile commonly used reference velocity modulator control however original triangular profile may cause large control error acceleration change discontinuously near vertex therefore basic triangular velocity profile modified restricting abrupt acceleration change jerk limitation change made smooth continuous fig enables improved control performance reduce unwanted vibration noise motion control experiment figure show prototype experimental setup evaluating performance specification prototype summarized table prototype compact lightweight compared commercial product table ass control performance displacement moving shaft dummy source directly measured using inductive proximity sensor e2ca omron position sensor employed solely verification tool study used actual operation prototype differential probe ta057 pico technology utilized monitor output signal position sensor oscilloscope dpo4014b tektronix differentiating measured displacement actual velocity moving shaft estimated reference signal error signal controller converted analog signal using digital-to-analog conversion dac simultaneously measured oscilloscope position sensor signal figure prototype experimental setup full size image table specification prototype full size table frequency response frequency response fig developed prototype dummy source measured stimulating vcm sinusoidal signal amplitude provided wave generator edu33212a keysight signal induced lvt recorded oscilloscope dpo4014b tektronix shown fig resonance close supplementary fig figure frequency response prototype full size image velocity control performance evaluate sensitivity lvt control performance vcm profile tracking motion monitored using triangular velocity profile jerk limitation target profile described motion profile design section facilitate direct comparison experimental result previous analysis simulation result amplitude frequency reference profile configured match value used analysis simulation shown fig fig calculated velocity signal obtained differentiating displacement signal measured position sensor moving average filter also applied reduce high-frequency noise filter condition include moving average span sample oscilloscope signal sampling period microsecond total number sample 10,000 comparing calculated velocity signal velocity reference signal fig data show actual velocity moving part closely match target profile comparing calculated velocity signal fig lvt signal fig observed lvt generates voltage approximately 0.38 mm/s supplementary fig figure experimental result feedback control result lvt signal full size image result discussion slight difference lvt sensitivity obtained experiment fig result analysis simulation fig difference may related variation magnetic flux density analysis since geometry lvt assumed axisymmetric toroid magnet rectangular section radial magnetization magnetic flux density calculated slightly higher circular array bar-shaped magnet fig resulting higher velocity-to-voltage ratio predictable result problem cause degradation control performance fact performance prototype inferior commercial product table linearity within increasing decreasing section actual velocity signal assessed line fitting shown fig evaluation help verify precision stability control actual velocity moving part excluding influence noise present signal line fitting process performed two signal first calculated velocity displacement signal measured inductive proximity sensor second lvt signal data used fitting extracted within constant acceleration range 0.41–0.59 experimental result case calculated velocity signal correlation straight line r-squared approximately 0.940 fig lvt signal correlation straight line approximately 0.996 fig result mean developed velocity modulator good linearity velocity word implies velocity control performance developed prototype stable precise figure curve fitting result constant acceleration range 0.41–0.59 calculated velocity ^2=0.940\ lvt signal ^2=0.996\ full size image analyzing cause error noise signal following conclusion made former case noise mainly caused numerical differentiation latter case result affected noise induced amplifier position sensor conclusion advanced velocity modulator designed constructed portable mössbauer spectrometer developed velocity modulator compact lightweight previous one addition several distinguishing feature follows linear bearing per-loaded spring linear motion guide position-limiting mechanism digital feedback feedforward control iterative learning algorithm improved target tracking performance switching amplifier high energy efficiency suitable portable long-term operation velocity profile smooth transition jerk restriction used velocity reference satisfactory result reported term target tracking performance excellent linearity velocity signal based experimental result i.e. high correlation linear fit paper present detailed description proposed system designed component used valuable reference development velocity modulators mössbauer spectrometer future prototype integrated gamma ray detector based si-pin module multichannel analysis system fablicate fully portable mössbauer spectrometer