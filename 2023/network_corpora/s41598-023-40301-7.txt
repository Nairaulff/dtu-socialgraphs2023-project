introduction loquat eriobotrya japonica lindl evergreen fruit tree rosaceae family fruit used dual-purpose medicine food cultivated china year used clearing pharynx moistening lung alleviating cough lowering phlegm ripening pattern loquat similar climacteric fruit harvested early hard flesh bland flavour loquat active postharvest physiological metabolism susceptible water nutrient loss rot harvested late fruit quality direct impact commercial value colour firmness soluble solid content ssc important characteristic loquat key parameter evaluating taste maturity therefore detection postharvest loquat crucial however traditional determination method disadvantage destructive sampling suitable online detection recent year hyperspectral imaging hsi technique combine two-dimensional image information one-dimensional spectral information widely used evaluate fruit quality maturity hsi used determine multiple indicator ssc firmness etc fruit including plum sweet cherry pear peach melon extensive study conducted predict quality ripeness fruit wei used hsi classify ripeness predict firmness persimmon munera used index internal quality maturity ass internal physicochemical attribute sensory perception big top magique nectarine ratio total soluble solid tss titratable acidity used pineapple ripeness index analyse effect transmittance short-wavelength near-infrared spectroscopy reflectance near-infrared hyperspectral imaging prediction pineapple ripeness using procedure model respectively benelli investigated potential using hsi directly field proximal measurement natural light condition predict harvest time sangiovese red grape split grape sample two class based reference value ssc established model predict ssc recognise maturity stage respectively zhang combined hsi support vector machine svm evaluate strawberry ripeness result indicated svm model performed best classification accuracy furthermore considerable attention given visualise quality fruit teerachaichayut applied hsi perform nondestructive detection visual analysis tss calculated tss/ta measure maturity index intact lime predictive distribution map tss tss/ta generated inputting feature band pixel optimal model realised visualization ssc based colour scale cherry fruit chu created visualization map banana quality parameter using machine learning algorithm result indicated hyperspectral imaging useful tool ass quality banana additionally due complexity involved processing hyperspectral data inherent limitation computer hardware capability essential select feature wavelength instead using full wavelength achieve similar precision operation zhang established partial least square regression plsr model predicting caffeine content coffee bean based full wavelength feature wavelength using hsi respectively overall result indicated similar plsr model built full wavelength plsr model based feature wavelength demonstrated robust performance developed rapid non-destructive model detecting anthocyanin content mulberry fruit using hsi based full band feature variable respectively result indicated model based feature variable demonstrated superior performance compared using full band sharma applied hsi classify ripening stage predict dry matter content durian pulp comparison conducted model using full wavelength feature wavelength result indicated model based full wavelength showed comparable performance model based feature wavelength maturity classification model based feature wavelength achieved better result predicting dry matter study confirmed feasibility fruit quality prediction maturity classification using hyperspectral imaging crucial choose feature variable modelling data processing nevertheless little research reported utility hsi technology predict visualise colour firmness ssc loquat discriminate maturity study aimed explore feasibility determining visualising colour firmness ssc loquat discriminating maturity based hsi specific objective study compare performance different feature variable selection method including competitive adaptive reweighting algorithm car genetic algorithm successive projection algorithm spa establish compare calibration model predicting quality including plsr principal component regression pcr multiple linear regression mlr extreme learning machine elm back-propagation neural network visualise spatial distribution quality parameter loquat develop recognition model discriminating maturity including partial least square discrimination analysis pls-da simplified k-nearest neighbour sknn svm model method sample preparation total loquat transverse diameter 35–55 without bruise harvested commercial orchard loquat green planting demonstration garden kaiyang county located guizhou province china june collector took permit required time obtained owner permission selection loquat guided experienced local grower based visual observation external colour ranging dark green dark orange sample transported laboratory day sampling temperature experiment loquat surface wiped numbered method performed accordance relevant guideline legislation deng found significant highly significant correlation colour value loquat quality basis sample divided three maturity stage stage stage stage iii based colour value stage represented colour value 8.33 stage covered colour value 8.33 15.41 stage iii encompassed colour value greater 15.41 image three maturity stage shown fig figure image loquat maturity stage maturity stage maturity stage iii full size image generate adequate variability broaden predictive range colour firmness ssc sample divided four group experimentation among sample used predicting loquat colour stage stage stage iii another set predicting loquat firmness stage stage stage iii predicting loquat ssc stage stage stage iii remaining sample used classify loquat maturity stage stage stage iii hyperspectral image acquisition correction hyperspectral image loquat sample captured using hyperspectral imaging system gaiafieldf-v10 jiangsu dualix spectral imaging technology co. ltd schematic system shown fig primarily included hyperspectral imaging spectrograph imspector v10 spectral imaging ltd. oulu finland ccd camera imperx ipx-2 m30 pixel zoom lens hsia-ol23 focal length four halogen light source hsia-ls-t-200 transportation plate dark room hsia-t400-ims computer image acquisition software distance sample lens exposure time spectral camera 12.6 spectral resolution 3.5 spatial resolution 0.2 mm/pixels spectrograph obtained spectral image covering wavelength range spectral band figure schematic diagram hyperspectral imaging acquisition system full size image acquiring hyperspectral image time four loquat placed regularly sample stage displacement platform according number eliminate effect noise dark current ccd camera acquired original image used correct black white image correction performed based hyperspectral image corrected spectral data entire sample area loquat extracted using envi 5.4 itt visual information solution boulder calibrated image original image dark reference image white reference image reference value measurement quality parameter following hyperspectral image acquisition conventional destructive method used measure reference value colour firmness ssc loquat determination colour spectrophotometer ci7800 used measure colour parameter value evaluated using colour value calculated based formula emphasizes colour contrast direction enabling effective comparison colour characteristic among different loquat 1000a firmness measured using texture analyser ta.xt.plus cylindrical puncture probe test speed mm/s measurement required peeling loquat around equator measurement ssc carried using digital refractometer pal- range 0–85 data preprocessing feature variable selection improve accuracy stability model spectral pre-processing aim eliminate instrument noise scattering baseline shift standard normal variation snv used preprocess original spectrum reduce effect surface scattering light path alteration diffuse reflection additionally hyperspectral data characterised redundancy multicollinearity reduce number modelling calculation improve operational efficiency model car spa applied select feature variable variable point large absolute value regression coefficient plsr model established car selected new correction set subset smallest root mean square error obtained several cycle simulates mechanism natural selection genetics iteratively performs operation generate subset variable unlike spa forward feature variable selection method minimises collinearity feature vector model building evaluation two commonly used tool multivariate data analysis plsr pcr model developed combining chemical concentration preprocessed data respectively subsequently three feature variable model namely mlr elm model established based selected feature variable mlr used characterise relationship spectral data mass parameter using linear fitting equation one typical multilayer forward network local optimisation method based gradient descent elm high-efficiency single hidden layer feed-forward neural network map nonlinear relationship input output value evaluate performance prediction model determination coefficient calibration set root mean square error calibration set rmsec determination coefficient prediction set root mean square error prediction set rmsep residual predictive deviation rpd calculated generally model performs well higher value rpd lower value rmsec rmsep model performs poorly rpd lower 1.5 whereas rpd 1.5 1.99 indicates model performs moderately well rpd 2.5 indicates model performs well model performs excellently rpd higher 2.5 act cal act ymean act ypre act ymean rmsec act cal rmsep act ypre rpd rmsep denote number sample calibration prediction set act mean denote measured mean value cal pre denote predicted value calibration prediction set respectively denotes standard deviation measured value prediction set result discussion spectral characteristic original preprocessed snv spectral curve shown fig spectrum loquat sample showed tendency different reflection intensity preprocessed curve fig generally smoother original spectral curve fig indicating significant pretreatment effect clear absorption peak near occurred correlated absorption chlorophyll obvious absorption peak approximately may attributed o–h chemical bond related water figure reflectance curve raw spectrum pretreated spectrum loquat sample full size image statistical analysis chemical concentration value figure show colour value firmness ssc loquat sample three maturity stage data shown mean increasing trend colour value ssc loquat downward trend firmness maturity stage figure colour value loquat sample different maturity stage firmness loquat sample different maturity stage ssc loquat sample different maturity stage full size image spxy algorithm used divide sample calibration prediction set ratio calibration set prediction set 3:1 table present calibration prediction set statistic colour value firmness ssc range value calibration set wider prediction set indicated result calibration prediction set reasonable selected modelling sample highly representative table statistic colour value firmness ssc loquat full size table modelling based full spectrum plsr pcr model built ass parameter loquat quality using spectrum preprocessed snv prediction result plsr pcr model listed table table performance plsr pcr model colour value firmness ssc full size table prediction performance plsr model colour value 0.96 rmsep 0.49 rpd 4.97 firmness 0.82 rmsep 0.27 rpd 2.39 ssc 0.72 rmsep 0.67 rpd 1.92 better pcr model may plsr method advantage considering matrix spectral matrix concentration matrix feature variable selection feature variable selected car extracting feature variable using car number monte carlo sampling run set cross-validation group amount set five optimal feature variable selected based minimal rmsecv corresponded sampling run colour value firmness ssc respectively selected variable colour value firmness ssc loquat respectively table present detailed variable selected car table optimal variable colour value firmness ssc selected car spa full size table feature variable selected strong global optimisation ability extracting feature variable using population size crossover probability mutation probability number iteration set 0.5 0.01 respectively optimal combination variable minimal rmsecv viewed key variable determine parameter loquat number corresponding feature variable set minimal rmsecv colour value firmness ssc loquat respectively table list variable selected feature variable selected spa spa number variable selected based minimum root mean square error rmse firstly rmse decrease rapidly owing elimination unimportant redundant variable redundant information variable set spectral information minimal number corresponding feature variable set colour value firmness ssc loquat respectively table present detailed variable selected spa modelling based feature variable mlr elm model predicting loquat quality established based feature variable performance model listed table table prediction result mlr elm model full size table presented table colour value car superior setting proper parameter model built based feature variable extracted spa exhibited worst performance lower might caused under-fitting number feature variable selected using car represented 7.81 full spectrum compared model built based feature variable selected car mlr model built based feature variable extracted car obtained higher rpd lower rmsec rmsep compared model based full wavelength shown table prediction accuracy mlr elm model based feature variable selected car enhanced especially cars-mlr model achieved best performance 0.97 rmsec 0.39 0.96 rmsep 0.45 rpd 5.38 predicting colour value firmness car appeared superior spa regarding setting appropriate parameter number feature variable selected car 11.33 full spectrum compared model built based feature variable selected car mlr model built based feature variable extracted car obtained higher rpd lower rmsec rmsep compared model based full wavelength shown table prediction accuracy mlr elm model based feature variable selected car spa improved especially cars-mlr model achieved best performance 0.90 rmsec 0.26 0.87 rmsep 0.23 rpd 2.81 predicting firmness ssc car appeared superior set proper parameter accuracy spa-elm spa-bp model lower cars-elm cars-bp model spa-mlr model indicated worst performance lower might caused under-fitting number feature variable selected car 7.03 full spectrum compared model built based feature variable selected car mlr model established based feature variable extracted car obtained higher rpd lower rmsec rmsep compared model based full wavelength shown table prediction accuracy mlr elm model based feature variable selected car improved especially cars-mlr model achieved best performance 0.88 rmsec 0.41 0.84 rmsep 0.51 rpd 2.54 predicting ssc modelling based optimal combination variable mlr model using optimal feature variable selected car established predict quality loquat regarding colour value firmness ssc scatter plot actual measured predicted value shown fig figure scatter plot modelling result cars-mlr model prediction result colour value prediction result firmness prediction result ssc full size image figure show prediction error three quality parameter small data point distributed near fitting line indicates cars-mlr model predict loquat quality colour value firmness ssc well optimal cars-mlr prediction model formula colour value firmness ssc loquat follows aligned colour 1pt 1pt value 22.89 8.82\lambda_ 12.37\lambda_ 22.02\lambda_ 28.37\lambda_ 2.09\lambda_ 20.83\lambda_ 11.90\lambda_ 24.50\lambda_ 23.75\lambda_ 17.75\lambda_ 20.45\lambda_ 16.34\lambda_ 0.04\lambda_ 21.10\lambda_ 8.06\lambda_ 15.07\lambda_ 14.64\lambda_ 23.98\lambda_ 0.96\lambda_ 18.62\lambda_ aligned aligned irmness 13.36 11.57\lambda_ 19.69\lambda_ 14.56\lambda_ 21.74\lambda_ 11.40\lambda_ 21.95\lambda_ 1.14\lambda_ 5.08\lambda_ 72.32\lambda_ 98.67\lambda_ 48.77\lambda_ 8.86\lambda_ 5.32\lambda_ 1.30\lambda_ 31.62\lambda_ 53.08\lambda_ 22.26\lambda_ 61.38\lambda_ 100.76\lambda_ 95.06\lambda_ 48.17\lambda_ 11.88\lambda_ 9.22\lambda_ 23.11\lambda_ 10.39\lambda_ 15.85\lambda_ 1.51\lambda_ 12.89\lambda_ 7.36\lambda_ aligned aligned ssc 36.33 76.42\lambda_ 84.97\lambda_ 26.85\lambda_ 48.79\lambda_ 30.30\lambda_ 21.61\lambda_ 77.22\lambda_ 67.04\lambda_ 29.14\lambda_ 31.90\lambda_ 222.32\lambda_ 61.35\lambda_ 176.46\lambda_ 122.60\lambda_ 72.51\lambda_ 68.45\lambda_ 134.16\lambda_ 81.12\lambda_ aligned colour value firmness ssc represent predicted value colour value firmness ssc respectively denotes reflectance feature wavelength subscript indicates wavelength visualised distribution quality parameter feature hsi technique information gathered pixel test sample information extracted hyperspectral image used generate visualisation distribution map reference value colour value firmness ssc enabled visualisation difference reference value sample due approximately spherical shape loquat fruit spectrum different pixel within fruit region may exhibit significant difference potentially leading poor imaging result one specific application loquat fruit detection evaluate overall fruit quality secondary emphasis expressing local characteristic building upon fact deviation pixel value mean spectrum compressed sum compressed deviation mean spectrum employed input variable study optimal cars-mlr model used predict quality parameter content pixel loquat figure show intuitive distribution colour value firmness ssc sample respectively sample correspond maturity stage iii respectively figure prediction map colour value firmness ssc different loquat sample full size image shown fig colour value ssc gradually increased different maturity stage firmness gradually decreased different maturity stage significant visual difference different sample therefore distribution map useful online monitoring loquat quality maturity stage classification total sample used classifying loquat maturity sample stage stage stage iii kennard–stone algorithm applied partition sample stage calibration prediction set ratio 2:1 resulting sample calibration prediction set respectively pls-da simplified nearest neighbor sknn svm model applied discriminate maturity stage loquat discrimination result listed table table prediction result maturity stage loquat pls-da sknn svm model full size table presented table pls-da model higher discrimination accuracy calibration set sknn svm model three model discrimination accuracy 97.59 prediction set figure show confusion matrix prediction set two sample stage incorrectly identified stage pls-da sknn svm model result illustrated pls-da model best performance discriminating loquat maturity figure confusion matrix prediction set full size image conclusion study hyperspectral imaging technology used detect visualise loquat quality discriminate maturity main finding study follows hyperspectral imaging coupled chemometric algorithm feasible method assessing loquat quality comparing full spectrum model plsr pcr simplified model mlr elm network based feature variable selected three effective variable selection algorithm car spa cars-mlr model optimal prediction performance obtained colour value 0.96 rmsep 0.45 rpd 5.38 firmness 0.87 rmsep 0.23 rpd 2.81 ssc 0.84 rmsep 0.51 rpd 2.54 respectively optimal prediction model combined pseudo-colour technology could visualise quality parameter distribution loquat map show distribution quality parameter essentially corresponded actual situation content quality parameter significantly different loquat sample hyperspectral imaging combined pattern recognition used evaluate loquat maturity comparison three maturity classification model pls-da sknn svm model pls-da model showed best performance classification accuracy 98.19 97.99 calibration prediction set respectively study indicates hyperspectral imaging technology used non-destructively rapidly determine loquat quality maturity providing theoretical basis development instrument future