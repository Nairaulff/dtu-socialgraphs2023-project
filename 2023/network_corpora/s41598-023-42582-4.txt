introduction problem surface defect detection problem important quality control electronics manufacturing problem several characteristic first real-time inference speed required manufacturing process cycle time product usually short second training time short real-world situation lifetime numerous product short furthermore small medium-sized enterprise typically abundant computational resource third high-resolution input necessary due high-quality control standard required electronic product sample used quality control collected high-resolution industrial camera although medium large extra-large model architecture achieve accurate performance long training time slow inference time prohibitive real situation fourth designed model easy deploy complicated operator directly supported inference architecture hence address problem critical need design accurate object detector real-time inference speed high-resolution input image minimal training time simple design currently look yolo -style object detector fully convolutional one-stage fcos -style object detector usually used real-time object detection task yolo series variant widely used various application chen proposed improved yolov5 plant disease recognition dewi proposed improved yolov3 small traffic sign recognition dewi proposed improved yolov5 road marking sign identification mekhalf conducted comparison among yolov5 transformer efficientdet task crop circle detection desert zhang proposed improved yolov5 target detection forward-looking sonar image proposed improved yolov5 safety helmet wearing detection yao proposed improved yolov5 kiwifruit defect detection dewi proposed improved yolov4 advanced traffic sign recognition among elegant study key issue design fast accurate object detector achieve fast accurate object detection good combination local feature global feature effective feature integration method feature extract foreground may better performance extract whole image better initial solution beneficial latest yolo-style object detector yolov8 focused new backbone network novel activation function decoupled head anchor-free design achieve fast accurate object detection recently self-attention-based network shown superior ability extract global feature input self-attention module designed receptive field feature learnable instead fixed furthermore self-attention module extract feature focusing foreground however self-attention module parameter convolutional module elegant proposal tph-yolov5 several self-attention module corresponding multiple scale feature pyramid tph-yolov5 performs well object detection task focusing remote sensing image tph-yolov5 use several self-attention module localize object high-density scene however large computational cost tph-yolov5 make unsuitable use surface defect detection electronics manufacturing hand various scale object interest may necessitate feature extraction scale feature integration mean feature pyramid another elegant proposal scaled-yolov4 subject experiment focusing consideration however object detector many-scale design default auto-anchor method may perform well hence improved auto-anchor search enhance initial solution important alleviate problem many-scale design cause poor performance term best possible recall result poor initial solution object detection task work propose accurate object detector att-yolo attention-yolo oriented toward problem surface defect detection electronics manufacturing att-yolo one self-attention module achieve better global feature extraction localize interested object highly density scene cost fewer additional parameter compared method use multiple self-attention module att-yolo also many-scale backbone feature pyramid well improved auto-anchor design obtain better initial solution problem consideration used small-scale yolov5 model baseline model conduct series experiment verified design self-curated dataset coco benchmark dataset result ablation study att-yolo designed series experiment analyze contribution aspect design result shown table table ablation study att-yolo coco dataset full size table interpretation result divided four salient point regarding activation function compare mish silu combination baseline model yolov5-small att-yolo result show model design silu activation function achieve higher value mean average precision map0.5:0.95 index training time experiment deeper multiscale backbone deeper feature pyramid self-attention module improve map0.5:0.95 performance 8.1 compared baseline model result auto-anchor comparison exp exp show improved auto-anchor design increase map0.5:0.95 1.4 compared model without improved auto-anchor design comparison result obtained different number training epoch exp exp exp exp show self-attention module included training epoch better training fewer epoch contrast object detector using convolution operation usually converge within epoch comparison with/without self-attention module shown exp exp self-attention module improves 1.6 term map0.5:0.95 finally result obtained using att-yolo model design improved auto-anchor design silu activation function training epoch best map0.5:0.95 44.9 among experiment ablation study possible reason default auto-anchor yolov5 suitable att-yolo may cause simplified genetic algorithm design fitness function caused limited fitting ability optimization problem default yolov5 three prediction head att-yolo six prediction head parameter needed optimized original network design since genetic algorithm random strategy algorithm execution guaranteed next generation result better previous result hence without elitism design genetic algorithm optimized result may worse previous generation another possible reason fitness function design iou distance directly object detection task euclidean distance since objective object detection task iou metric variant directly used iou distance fitness function designed genetic algorithm may better optimized result experience result work default auto-anchor method bpr 11.4 improved auto-anchor method improves bpr 11.4 99.9 improved map0.5:0.95 33.9 34.9 experiment result consistent experience comparison existing lightweight state-of-the-art yolo-style object detector section compare att-yolo method similar computational cost namely small-scale yolo design based existing yolo-style object detector compared lightweight state-of-the-art model include yolov5-small yolox-small pp-yoloe-small yolov6-small yolov7-tiny-silu yolov8-small fig table .the result show att-yolo achieves map0.5:0.95 44.9 gflops 21.8g outperforming state-of-the-art yolo-style object detector similar computational cost related experimental result cited corresponding paper detailed result shown table fig figure comparison among existing yolo-style object detector term map0.5:0.95 coco dataset computational cost gflops smaller number gflops larger map0.5:0.95 better x-axis represents map0.5:0.95 y-axis represents computational cost gflops area circle representing model also proportional computational cost figure plotted microsoft office full size image table comprehensive comparison small-scale state-of-the-art yolo-style model coco dataset full size table result lcfc-laptop dataset section verify ability handle electronics manufacturing surface detection problem present two experiment conducted lcfc-laptop dataset one focus multiclass object detection task focus binary-class object detection task multiclass object detection task used analyze defect class predominant certain period since defect corresponding reason occurrence analysis multiclass object detection employed improve manufacturing process hand binary-class object detection task focus determining whether given sample defective commonly used industry standard production line provides overall metric product quality combining class defect defect class imbalanced problem lcfc-laptop dataset alleviated multiclass task table att-yolo achieves overall precision 84.7 overall recall 87.4 map0.5 90.3 hand att-yolo achieves overall precision 88.2 overall recall 88.1 map0.5 92.8 binary-class object detection task table prediction result seen fig result show att-yolo may overcome data imbalanced problem degree however att-yolo achieves higher map0.5 value binary-class object detection task multiclass object detection task shown table single rtx gpu att-yolo achieve inference speed 111.0 fps based tensorrt architecture whereas inference speed pytorch implementation reach 65.3 fps single titan rtx gpu inference speed sufficient meet standard real-time prediction regular gpus instead high-end gpus however mislabeling problem dataset may detrimental impact object detector despite noisy label dataset att-yolo achieve good result dataset however meet high standard quality control necessary evolutionarily refine dataset mentioned binary class object detection task alleviates imbalanced problem lcfc-laptop dataset improves overall map0.5 90.3 92.8 however multiclass object detection task beneficial analyzing majority class changing manufacturing process quantity given change improve production line yield rate estimated feedback change manufacturing process yield rate valuable optimizing manufacturing process main training parameter listed table multiclass object detection task binary class object detection task require training time primary training environment used lcfc-laptop dataset includes pytorch 1.7.0 opencv-python 4.1.1 numpy 1.18.5 pillow 7.1.2 detailed list python package found page table performance multiclass object detection task lcfc-laptop dataset full size table table performance binary class object detection task lcfc-laptop dataset full size table figure prediction result att-yolo various defect type dirt plain particle collision scratch collision edge particle figure plotted python version 3.8.12 full size image table inference speed att-yolo lcfc-laptop dataset full size table table att-yolo training parameter full size table discussion study demonstrate ability handle electronics manufacturing surface defect detection problem conducted series experiment verify component att-yolo design need simplicity problem used simple design model architecture believe replacing simple convolutional attention module used att-yolo sophisticated novel design may possible achieve better performance reported save computational cost perform hyperparameter tuning study trained model scratch without using another external dataset compared att-yolo yolo-style object detector similar computational cost coco dataset result show att-yolo outperforms existing yolo-style object detector condition similar computational cost furthermore evaluate ability handle problem interest conducted two experiment real-world dataset despite noisy label dataset att-yolo achieved good result experiment result show att-yolo may suitable handling real-world problem future first necessary evolutionarily refine lcfc-laptop dataset benchmarking performance surface defect detection problem electronics manufacturing second efficient accurate design att-yolo problem pursued third unsupervised semisupervised method developed reduce cost dataset collection believe availability sufficiently high-quality dataset help improve performance meet high standard required industry material method lcfc-laptop dataset lcfc hefei electronics technology co. ltd. lcfc wholly owned subsidiary lenovo worldwide one eight laptop sold manufactured lcfc cumulative number laptop sold reached 0.2 billion country bought laptop lenovo hence collaboration company able gain opportunity establish extensive laptop dataset verify performance att-yolo construct lcfc-laptop dataset collected sample acquired four high-resolution industrial camera set light including white light blue light red light believe given defect associated combination specific wavelength illumination broad spectrum allow variety defect well captured hence used various wavelength light collect dataset set light tuned senior optical engineer next used standard adopted senior engineer quality inspector lcfc label dataset finally obtained dataset consisting 14,478 annotated defect detailed statistic dataset shown table dataset includes various type defect scratch dirt plain particle edge particle collision defect defect unknown type example defect type shown fig although dataset labeled senior engineer quality inspector mislabeled sample inevitable mislabeled sample divided three category first sample one class may labeled belonging another class second nondefect sample may labeled defect sample third defect sample may labeled nondefect sample since sample dataset market within 6–12 month dataset analyzed current study available corresponding author reasonable request product market download link dataset available url table statistic lcfc-laptop dataset full size table figure example defect type defect type include dirt scratch collision defect plain particle edge particle defect unknown type figure present region interest original input image figure plotted python version 3.8.12 full size image data preprocess lcfc-laptop dataset lcfc-laptop dataset consists image collected portable computer shell fig use four high-resolution camera capture photo portable computer shell resolution pixel fig due high gpu memory requirement training model high-resolution image divide original image smaller piece shown fig original image split smaller sub-images prevent defect damaged process 32-pixel overlapping region edge two adjacent sub-images since defect smaller pixel difficult distinguish naked eye lcfc-laptop dataset ultimately consists image 32-pixel overlapping region figure appearance portable computer shell black region represent region interest corresponding part monitor touchpad considered background context surface defect detection portable computer shell figure plotted dahua-a5b57mg200 camera full size image figure original sample image resolution captured industrial camera obtain high-quality image high-resolution industrial image use four high-resolution camera capture top left top right bottom left bottom right section original sample figure plotted python version 3.8.12 full size image figure illustration dividing original image sub-images split original image sub-images along green line two adjacent sub-images overlapping area pixel prevent defect damaged process figure plotted imagelabeler http full size image coco dataset common object context coco dataset one popular large-scale labeled image datasets available public use contains various type object encountered daily basis image annotation object class 1.5 million object instance coco dataset used multiple computer vision task object detection instance segmentation image captioning versatility multipurpose scene variation make highly suitable training computer vision model benchmarking performance brief review baseline object detector yolo one widely known object detection algorithm due speed accuracy yolov5 implement family object detection architecture provides several pretrained model trained coco dataset yolov5 designed flexible architecture allows developer researcher modify extend customized layer model architecture furthermore yolov5 community provide series sample code various deployment architecture onnxruntime tensorrt tensorflow address problem consideration chose yolov5-small model version 5.0 baseline model yolov5 consists three part backbone module neck module prediction head module backbone design yolov5 modified cspdarknet used combination use focus module bottleneckcsp module spp module spatial pyramid pooling neck module design panet path aggregation network used information fusion prediction head module classification regression coupled yolov3 design prediction head module design att-yolo according observation surface defect detection dataset usually contains object complicated shape many scale yolo-style object detector use global feature enhance performance object detection many-scale design may cause default auto-anchor method perform well hence design att-yolo consists three part first att-yolo many-scale backbone many-scale feature pyramid second att-yolo includes one self-attention module located behind seventh convolutional module backbone third att-yolo improved auto-anchor method obtain set better initial solution meet requirement problem interest small-scale model used work conduct related experiment simple convolutional self-attention module adopted easy deployment nevertheless despite use small-scale model training time spent model ranged 247.0 424.0 experiment training conducted mainly eight rtx gpus distributed manner hyperparameters used att-yolo default yolov5 model detailed design att-yolo shown fig backbone att-yolo consists seven convolutional module one self-attention module immediately behind last convolutional module feature pyramid design att-yolo span module module adapted design panet detection head used work original design used yolov5 figure design att-yolo att-yolo many-scale backbone feature pyramid backbone att-yolo one self-attention module located immediately behind module gray block represent element original design yolov5 figure plotted microsoft office2016 full size image actual backbone design implementation att-yolo yolov5-small shown table basic module yolov5-small consisting conv another difference two model final module att-yolo add self-attention behind module instead original implementation conv spp self-attention module implemented multi-head attention mlp connection backbone feature pyramid detection head shown fig table comparison backbone att-yolo yolov5-small full size table result att-yolo computational cost 21.8 gflops slightly higher original computational cost yolov5-small model 17.2 gflops since cspdarknet architecture proposed yolov4 author original activation function used architecture mish hand original activation function used yolov5 design sigmoid linear unit silu function hence work compare two activation function original yolov5-small model att-yolo design detailed experimental design including activation function comparison summarized table reveal efficiency att-yolo design reduce difficulty deployment real situation work relies simple convolutional module simple self-attention module original setting small-scale yolov5-small model believe type convolutional module fast fourier convolution dilated convolution may offer better performance simple convolutional module similarly regarding attention module selection recent variant transformer swin transformer detr deformable detr dino vit-adapter-b may offer better performance simple self-attention module furthermore save computational cost perform hyperparameter tuning work hence may possible improve result work performing suitable hyperparameter search address need high-resolution input image characteristic problem interest att-yolo implemented input size experiment input image sliced original input image overlap slice avoid defect cut different part improved auto-anchor method according abundant experience intelligent computing lab evolutionary algorithm genetic algorithm application several field improve default yolov5 auto-anchor design default yolov5 auto-anchor design simple genetic algorithm cooperation kmeans algorithm kmeans algorithm yolov5 euclidean distance fitness function evolve set initial anchor design perform well default yolov5 backbone feature pyramid achieving best possible recall bpr 99.9 default model architecture bpr defined ratio maximum number ground-truth box detector recall total number ground-truth box however default auto-anchor design directly applied att-yolo value bpr reduced 11.4 may imply poor initial solution object detection task used handling problem electronics manufacturing work att-yolo simple genetic algorithm elitism mechanism ensure offspring result always better ancestor result also use design genetic algorithm work cooperation kmeans algorithm however att-yolo intersection-over-union iou distance instead euclidean distance fitness function iou distance calculated 1-iou simplicity work original iou definition instead novel iou may offer better performance require complicated computation result value bpr improves 11.4 99.9 att-yolo design conclusion object detection task applied numerous scenario unique requirement work summarized requirement surface defect detection electronics manufacturing inference speed accuracy object detector essential context att-yolo provides best trade-off among existing yolo-style object detector however primary focus specific scenario accuracy object detector yolo-style object detector larger computational cost transformer-based object detector emerge superior choice scenario work att-yolo many-scale backbone feature pyramid improved auto-anchor method self-attention module design object detector surface defect detection electronics manufacturing verified att-yolo self-curated lcfc-laptop dataset coco benchmark dataset result att-yolo satisfies reequipments surface defect detection achieve best tradeoff among lightweight yolo-style object detector future work since mislabeling issue inevitable human-curated datasets essential continually refine lcfc-laptop dataset additionally collecting defect data various material crucial extending work hand supervised method proposed work target scenario sufficient defect data available due low probability defect occurring challenging collect adequate data train high-performing model using supervised approach therefore important develop unsupervised semisupervised method situation defect data insufficient method rely vast amount normal data capture information distribution considered normal model trained use deviation normal data determine whether given input normal