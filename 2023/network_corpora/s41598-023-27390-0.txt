introduction around million case million death caused covid-19 worldwide march nearly million case thousand death occurred brazil ranking third confirmed case death several machine learning algorithm proposed predicting covid-19 diagnosis prognosis different input data image laboratorial exam country large socioeconomic inequality different access healthcare resource heterogeneity best strategy selecting training data machine learning algorithm still unknown data may improve ability machine learning algorithm identify detailed pathway linking predictor outcome interest may also introduce noise new learned pathway may locally replicable also collecting large number variable may cost prohibitive hospital different data collection protocol hospital make aggregation unfeasible use machine learning algorithm rapidly advance healthcare increasingly important identify improve generalization algorithm different region order identify best strategy selecting training data predict covid-19 mortality gathered data distinct independent hospital direct connection administration using emr system five region brazil tested eight different strategy developing predictive model starting local hospital data seven different approach aggregating external training data result summary population characteristic table present descriptive statistic regarding individual characteristic patient sample study patient covid-19 mostly comprised men 55.1 common race white although majority 64.6 provide self-declared race average age 58.4 year patient stayed day average patient died hospital stay older mean age 66.7 vs. 55.2 survivor likely male 60.0 vs. 53.3 survivor list participant descritptive statistic hospital found supplementary table respectively table descriptive statistic demographic characteristic sample full size table algorithmic performance figure show result aurocs best three algorithm strategy overall best predictive performance obtained using training data hospital winning strategy participating hospital figure best aurocs according strategy region hospital best strategy highlighted full size image figure present aurocs winning strategy hospital separated region southeast region populous region brazil data collected winning strategy every hospital training local data supplementary fig show recall specificity best strategy figure aurocs winning strategy per region southeast northeast midwest south north full size image table present summary best algorithm strategy overall extreme gradient boosting xgboost algorithm presented highest number winning predictive performance regarding aurocs 67/144 46.5 followed closely light gbm 42.4 catboost 11.1 list final hyperparameters algorithm available supplementary table calibration best model presented supplementary table table algorithm best predictive performance per strategy full size table discussion found different strategy training data selection able predict covid-19 mortality good overall performance using routinely-collected data auroc 0.7 higher per strategy exception best overall strategy training testing using reference hospital data achieving highest predictive performance different hospital study case adding data different hospital region improved predictive performance scenario decreased predictive ability algorithm inclusion data hospital contributed training data noise possibly due heterogeneity hospital practice case deteriorated predictive performance seen study possibly due different patient demographic variable interaction locally reproductible study included data different hospital found high predictive performance may benefited using data connected hospital similar patient using different technique larger sample study unique sense analyzed data independent hospital five region large unequal country study limitation need acknowledged first even though analyzed hospital every region brazil equally distributed higher number patient southeast northeast region also populous another limitation hospital unconnected independent may difference local data collection procedure sample size influenced final result finally hospital small sample included aggregating purpose region check strategy improved overall performance conclusion found using hospital data yield better predictive result compared adding data region different population socioeconomic characteristic found algorithm trained data hospital frequently decreased local performance even considerably increased training data available however model trained data hospital still presented acceptable performance could option data specific hospital still collected method data source cohort 16,236 patient distinct hospital region brazil followed march august map geographic location participating hospital available supplementary fig filtered adult patient year positive rt-pcr diagnostic exam covid-19 resulting patient died result complication caused covid-19 mortality outcome referred current hospital admission covid-19 independently timeframe hospitalization analyzed time covid-19 diagnosis hospitalization patient included study used predictor variable collected early hospital admission i.e within rt-pcr exam full list hospital available supplementary table total predictor selected among routinely-collected variable hospital including age sex heart rate respiratory rate systolic pressure diastolic pressure mean pressure temperature hemoglobin platelet hematocrit red cell count mean corpuscular hemoglobin mch red cell distribution width rdw mean corpuscular volume mcv leukocyte neutrophil lymphocyte basophil eosinophil monocyte c-reactive protein figure illustrates overall process figure process overview inclusion criterion feature selection full size image study approved institutional review board irb university são paulo caae 32872920.4.1001.5421 included waiver informed consent data partnership member iacov-br included approval study followed guideline transparent reporting multivariable prediction model individual prognosis diagnosis tripod machine learning technique three popular machine learning model structured data lightgbm catboost extreme gradient boosting trained predict covid-19 mortality using routinely-collected data eight different strategy tested identify best data selection strategy hospital three algorithm strategy preprocessing technique initially used single hospital data baseline strategy splitting data training testing latter used predict mortality risk also tested seven different data aggregation strategy ass performance algorithm different training data presented table table clustering strategy training testing full size table variable two category represented set dummy variable one variable category continuous variable standardized using z-score variable correlation greater 0.90 discarded variable missing data also discarded remaining variable missing data first imputed median also analyzed use multiple imputation chained equation mouse technique improve predictive performance model supplementary fig used k-fold cross-validation fold bayesian optimization hyperopt select hyperparameters random oversampling performed training set improve class imbalance keeping test set intact evaluate performance algorithm calculated following metric strategy accuracy recall sensitivity specificity positive predictive value ppv precision negative predictive value npv score area receiver operating characteristic curve auroc main metric used select best model among different scenario result reported study test set confidence interval auroc curve estimated using delong method computing covariance unadjusted auc institutional review board statement name ethic committee comitê ética pesquisa faculdade saúde pública usp study protocol approved committee following method accordance relevant guideline regulation approval date project june