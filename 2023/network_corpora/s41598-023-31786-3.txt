introduction material science important understand dynamic process adsorption chemical reaction phase transition innovating material approaching practical application since dynamic process generally involve change crystal structure and/or lattice constant time-resolved x-ray diffraction tr-xrd powerful probing technique tr-xrd enables observation continuous crystal structure change study focus adsorption process gas molecule metal–organic framework mof important innovating adsorption material analyze adsorption/desorption dynamic mofs appropriate time-evolution model precise adsorption start time however difficulty evaluating time-evolution model estimating based conventional non-linear least-squares fitting information measured directly overcome difficulty utilize bayesian inference nonlinear regression bayesian inference method based bayes theorem estimate adsorption property experimental data probability distribution condition experimental data already obtained conventional non-linear least-squares fitting initial value dependence addition non-linear least-squares fitting possibly trapped local minimum overfits noise however bayesian inference conquer problem using exchange monte carlo method advantage become prominent noisy data analysis larger noise make difficult non-linear least-squares fitting reach global optimal solution since bayesian inference estimate posterior probability distribution including information value accuracy bayesian inference extract information data conventional non-linear least-squares fitting addition bayesian model selection provides significant advantage analysis multi-peak spectrum determine number peak prior conventional non-linear least-squares fitting even though actual number peak often unknown however bayesian inference enables selection number peak among possible model thus bayesian inference provides superior solution study incorporate time-evolution model describe time evolution peak bayesian inference establish bayesian framework analyzing dynamic process observed via tr-xrd framework achieves selection plausible time-evolution model necessary understand dynamic framework also enables estimation directly tr-xrd data basis time-evolution model information time-evolution model enables understand adsorption process accurately demonstrate effectiveness framework investigating gas adsorption process result data observation via time-resolved x-ray diffraction selected typical mof nanoporous coordination polymer pzdc pyz pzdc pyrazine-2,3-dicarboxylate pyz pyrazine cpl-1 sample cpl-1 pillared-layer type mof one-dimensional nanochannels dimension 4.0 6.0 compound adsorb various gas maximum entropy/rietveld method revealed crystal structure without gas molecule adsorbed gas experiment heated cpl-1 sample vacuum remove adsorbed gas molecule performed static xrd measurement confirmed xrd pattern good agreement ref gas adsorption process observed via tr-xrd bl02b2 beamline spring-8 xrd pattern measured continuously t=0\ exposure time 0.333 middle measurement shot gas molecule sample cell t=6.327 focused reflection analyzed xrd pattern 7.70° 8.22° bayesian framework first consider generative model including peak model time-evolution model peak model determines shape number diffraction peak time-evolution model express time evolution peak parameter peak area position incorporating time-evolution model adsorption property rate constant growth dimension adsorption start time replace peak parameter approach enables accurate reliable analysis dynamic adsorption process capture continuous change crystal structure time formulate conditional probability generated data noise considering gaussian noise variance noise applying bayes theorem conditional probability estimate probability distribution parameter conditioned observed data i.e. posterior probability distribution noise comparison bayesian framework conventional framework shown fig conventional framework based stepwise application non-linear least-squares fitting i.e. step fitting diffraction peak time point step fitting variation peak area time kolmogorov–johnson–mehl–avrami kjma equation conventional framework corresponds point estimation without considering accuracy estimation contrast bayesian framework enables estimation posterior probability distribution thereby providing information based shape width distribution addition bayesian framework realizes estimation directly observed data conventional framework difficulty extracting information data requires gas-shot time bayesian framework also allows plausible model selected possible time-evolution model using bayes free energy one information criterion used evaluate consistency data model bayesian statistic figure difference bayesian framework conventional framework analyzing dynamic adsorption process observed via time-resolved x-ray diffraction tr-xrd bayesian framework construct generative model including peak model time-evolution model probabilistic modeling generated data conditioned parameter noise use bayes theorem estimate posterior probability distribution adsorption property rate constant growth dimension adsorption start time conventional framework based stepwise application non-linear least-squares fitting i.e step fitting diffraction peak time point step fitting variation peak area time kolmogorov–johnson–mehl–avrami kjma equation gas-shot time full size image bayesian model selection bayesian analysis estimation based different analysis model performed select plausible model adopted peak model two gaussian function corresponding adsorption desorption phase designed two different time-evolution model i.e. model m=1\ model m=2\ model time evolution peak area assumed follow kjma equation previous study study assumed adsorption dynamic observed tr-xrd explained kjma equation although time variation average structure observed tr-xrd measurement attempted estimate tr-xrd data time evolution peak center angle assumed linear given little angular variation phase hand time evolution peak full width half maximum fwhm assumed constant model exponential model indicating absence presence peak broadening adsorption dynamic perform analysis without bias prior probability model set p\left m=1\right =p\left m=2\right =0.5\ prior probability distribution parameter set uniform obtaining posterior probability distribution used exchange monte carlo method method monte carlo sampling replica virtual temperature exchange sample neighboring replica enable escape local optimum efficient achievement global optimal solution utilizing sampling result replica also possible calculate bayes free energy total number monte carlo sweep 10,000 including 5,000 burn-in sweep figure a–c show color map observed tr-xrd pattern estimated result model model model appear good qualitative agreement observed data calculate model selection probability p\left quantify realization probability model compared bayes free energy model model bayes free energy model lower model around meaning p\left m=2| almost equal shown fig bayesian model selection suggests model much better model indicates peak broadening adsorption process figure color map observed time-resolved x-ray diffraction pattern estimated result model model comparison bayes free energy model model model selection probability also shown full size image estimation adsorption property based selected model model estimated adsorption property using posterior probability distribution since p\left m=2 m=2\right multivariate probability distribution difficult visualize consider marginalized posterior probability distribution p\left m=2 m=2\right =\iint p\left m=2 m=2\right m=2 d\sigma denotes index specific parameter using marginalization obtain one-dimensional probability distribution parameter figure show marginalized posterior probability distribution adsorption property i.e. adsorption start time rate constant number dimension probability distribution fig consists single peak indicating optimal value parameter uniquely estimated using one standard deviation 1\sigma distribution measure accuracy adsorption start time estimated =7.4461\pm 0.0287\ estimated value deviate significantly =6.327 indicating time lag large present experiment since conventional analysis substitute large time lag lead misunderstanding dynamic since usually selected time point observed every 0.333 accuracy bayesian analysis 0.029 one order magnitude greater conventional analysis 0.333 rate constant number dimension estimated =0.6192\pm 0.0235\ 1/s n=0.9680\pm 0.0382\ bayesian analysis hand conventional analysis value estimated =0.1535\ 1/s n=1.8460\ consider difference primarily due large time lag gate figure marginalized posterior probability distribution adsorption property i.e. adsorption start time rate constant number dimension vertical line error bar parameter correspond maximum one standard deviation 1\sigma distribution full size image visualize difference result bayesian analysis conventional analysis employed time evolution fraction transformed adsorption phase time evolution fraction refers diffraction peak area adsorption phase estimated using kjma equation figure show comparison fraction estimated bayesian analysis conventional analysis shown figure time evolution bayesian framework apparently different conventional framework since difference significant time region estimating quite important understanding dynamic examine accuracy estimated consider comparison another probing technique x-ray absorption spectroscopy would helpful xrd inherently sensitive local phenomenon figure fraction adsorption phase estimated bayesian framework conventional framework blue line denotes bayesian analysis result red line corresponds conventional result vertical line represent gas-shot time estimated adsorption start time full size image validation bayesian analysis numerical simulation validate deviation true value estimated value bayesian framework performed numerical simulation using artificial tr-xrd data artificial data generated based model adding gaussian noise level observed data bayesian analysis artificial data performed using model prior distribution observed data analysis color map artificial data estimation result shown fig color map good qualitative agreement indicating successful fitting artificial data figure color map artificial data estimation bayesian framework posterior probability distribution adsorption start time rate constant number dimension vertical dashed line denote true value error bar parameter correspond accuracy required understand dynamic one standard deviation 1\sigma distribution full size image figure c–e show marginalized posterior probability distribution adsorption property adsorption start time estimated =7.3982\pm 0.0298\ true value =7.4461\ true value outside estimated range 7.3684 7.4280 however true value included probability distribution estimation accuracy much higher conventionally required accuracy 0.333 shown fig therefore estimation accurate enough understand adsorption dynamic rate constant number dimension estimated =0.5980\pm 0.0219\ 1/s n=0.9921\pm 0.0343\ respectively since true value =0.6192\ 1/s n=0.9680\ value included estimated range addition accuracy required understand dynamic 0.1 0.1 present case indicating estimation successfully performed result numerical simulation show information adsorption property extracted bayesian analysis high accuracy even data contains considerable noise indicating bayesian analysis enables precise understanding dynamic experimentally observed data discussion understand dynamic observed via tr-xrd essential analyze data using appropriate time-evolution model precise start time since measured directly conventional analysis difficulty extracting information experimentally observed data overcome difficulty established bayesian framework analyzing dynamic process demonstrated bayesian analysis gas adsorption process typical mof bayesian model selection suggested model much better model indicating peak broadening adsorption process although human judgement used determine time evolution peak broadening shift bayesian analysis enables selection plausible time-evolution model without involving human judgement since conventional analysis substitute understood adsorption dynamic incorrectly due large time lag however bayesian analysis enables estimation directly experimental data accuracy one order magnitude greater conventional analysis addition adsorption property rate constant growth dimension estimated much higher accuracy accuracy required understand dynamic estimated rate constant gas adsorption lower gas adsorption reported ref.6 time difference small gas adsorption measurement slower adsorption attributed stronger influence potential barrier nanopores molecular size 3.405 larger 2.930 number dimension estimated indicating quasi-one-dimensional growth gas adsorption phase similar gas adsorption case applying bayesian analysis various gas adsorption process quantitative comparison realized basis posterior probability distribution also consider integrated bayesian analysis multiple diffraction peak effective deeper understanding adsorption dynamic framework applied dynamic process modifying time-evolution model note application limited dynamic process time-evolution model formulated example case solid-state chemical reaction various reaction model nucleation model geometrical contraction model used represent time evolution bayesian analysis enables selection plausible reaction model among existing reaction model may also possible design new model evaluate model bayesian analysis could lead advance reaction model research moreover framework applied wide variety one-dimensional datasets observed various measurement electron powder diffraction neutron powder diffraction various type spectroscopy also possible principle extend framework two-dimensional datasets hence bayesian analysis expected utilized various research area material science method time-resolved x-ray diffraction measurement cpl-1 sample placed tip borosilicate capillary 0.5-mm inner diameter attached stainless-steel tube double o-rings time-resolved situ synchrotron x-ray powder diffraction pattern cpl-1 adsorption measured bl02b2 beamline spring-8 synchrotron facility japan using large debye–scherrer-type diffractometer multi-modular system constructed six mythen detector sample temperature controlled hot gas flow device sample atmosphere controlled remote gas- vapor-pressure control rgvpc system data collected flat panel detector linked rgvpc system 2\theta range 30° converted observed two-dimensional diffraction pattern one-dimensional pattern using pyfai library energy incident x-ray set 15.5 kev x-ray diffraction pattern continuously obtained exposing sample 0.333 short period time measurement cycle gas pressure monitoring cycle coincide order ms. 6.327 starting measurement gas kpa filled gas manifold remote gas handling system automatically introduced glass capillary cpl-1 sample maintained vacuum gas pressure decreased kpa within latest pressure rigorously kept constant measurement generative model time-resolved x-ray diffraction pattern time-resolved x-ray diffraction data given =\left\ i=1 j=1 denote diffraction angle time point diffraction intensity respectively consider diffraction intensity angle time point generated adding measurement noise =f\left m\right f\left m\right model function parameter noise assumed follow gaussian distribution noise variance conditional probability p\left equal represented p\left =\frac 2\pi exp -\frac -f\left m\right regarding noise data point independent express conditional probability data point p\left i=1 j=1 p\left =\mathrm exp e\left e\left i=1 j=1 -f\left m\right +\frac 2\pi typical time-resolved x-ray diffraction experiment set measurement non-probabilistic manner mean p\left =p\left model function recognizing observed data assuming shape diffraction peak gaussian function express model function f\left m\right f\left m\right i=1 g\left\ t\right t\right t\right g\left\ t\right t\right t\right =\frac 4\mathrm t\right t\right exp -\frac 4\mathrm t\right t\right i=1\ i=2\ correspond adsorption desorption phase respectively t\right t\right t\right represent time-evolution function peak area center angle full width half maximum fwhm respectively study designed two different time-evolution model i.e. model m=1\ model m=2\ selected plausible model using bayes free energy described model used kolmogorov–johnson–mehl–avrami equation time-evolution peak area array a\left exp array array exp array indicate adsorption start time rate constant number dimension respectively correspond scale parameter time evolution peak center angle assuming little angular variation used linear function t\right =ct+d t\right =et+f parameter hand considered two different time-evolution function fwhm model assuming constant width measurement used constant value m=1 t\right =g\ m=1 t\right =h\ model assuming increase peak width adsorption process designed time-evolution function using parameter array exp array array i\left exp array parameter set model represented m=1 =\left\ h\right\ model modified m=2 =\left\ j\right\ generation artificial tr-xrd data generated artificial data based generative model model function model using parameter shown table used random number generate noise table parameter used generating artificial tr-xrd data full size table bayesian formalization considered joint probability distribution variable p\left =p\left p\left p\left m\right p\left target posterior probability distribution p\left m\right expressed using bayes theorem p\left m\right =\frac p\left p\left d\sigma =\frac p\left p\left marginal likelihood defined p\left p\left d\sigma obtained marginalized posterior probability distribution parameter interest marginalizing posterior probability distribution p\left m\right =\iint p\left m\right d\sigma denotes index specific parameter model selection model model performed basis posterior probability distribution expressed p\left =\frac p\left d\sigma p\left d\sigma =\frac p\left m\right exp p\left m\right exp f\left m\right corresponds bayes free energy defined f\left m\right -\mathrm solution using exchange monte carlo method obtain posterior probability distribution p\left m\right calculate bayes free energy f\left m\right used exchange monte carlo method method prepare replicated probability distribution inverse temperature m\right exp e\left p\left p\left denotes inverse temperature target distribution exchange monte carlo method joint probability distribution expressed p\left l=1 m\right different inverse temperature =1\ sake simplicity combine parameter noise variance variable =\left\ exchange monte carlo method performs sampling p\left basis following update sampling replica update carried metropolis algorithm following probability =\mathrm min =\frac m\right m\right exchange neighboring replica exchange l+1 carried following probability =\mathrm min =\frac l+1 m\right l+1 m\right m\right l+1 l+1 m\right exchange monte carlo method enables escape local optimum exchange process efficient achievement global optimal solution posterior probability distribution p\left m\right obtained sampling result corresponding =1\ calculation bayes free energy consider expressed =\iint exp e\left p\left p\left d\sigma using fact 0\right =1\ 1\right calculated follows 1\right =\frac l-1 l-1 l-2 l=1 l-1 l+1 l=1 l-1 exp l+1 e\left p\left p\left d\sigma exp e\left p\left p\left d\sigma l=1 l-1 exp l+1 e\left m\right m\right mean expectation m\right consequently bayes free energy obtained f\left m\right =-\mathrm model function conventional non-linear least-squares fitting fitting diffraction peak time point step model function expressed i=1 g\left\ g\left\ =\frac 4\mathrm exp -\frac 4\mathrm i=1\ i=2\ correspond adsorption desorption phase respectively represent peak area center angle full width half maximum respectively fitting time variation adsorption peak area step used kolmogorov–johnson–mehl–avrami equation array a\left exp array indicate scale parameter rate constant number dimension respectively denotes gas-shot time determined information apparatus