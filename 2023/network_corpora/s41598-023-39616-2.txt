introduction knee osteoarthritis affect approximately men woman aged year older also one common joint disorder high tibial osteotomy hto procedure medial compartment osteoarthritis knee varus deformity surgery goal change load-bearing axis reduce pain load change reduces cartilage degeneration moving weight-bearing load relatively unaffected lateral compartment varus knee hto introduced many year ago today often way prevent joint damage although hto case doe solve problem improves long-term positive outcome based survival rate patient year hto respectively median failure time 5.1 year research 12.8 patient total knee arthroplasty hto 5.7 group osteotomy performed together autologous cartilage implantation complication surgery observed 8.8 patient body weight age identified two important factor hto failure however performance concomitant procedure decreased failure rate several method hto planning goal planning calculate correction angle consists step different point located femoral head center knee landmark may best knowledge fully automatic system calculating osteotomy angle using miniaci method yet implemented several piece software available semi-automatic calculation correction angle example medicad hectec gmbh germany preoplan siemens germany/synthes switzerland orthopilot bbraun tuttlingen germany application used calculate angle correction angle mpta medial proximal tibial angle hka hip–knee–ankle etc based point marked orthopedist program also enable visualization leg correction however researcher working automatic detection point center femoral head point within knee joint ankle joint used calculate various parameter related varus valgus deformity lower limb nguyen used convolutional neural network cnn detect ten general region interest roi containing femoral head knee ankle complete radiograph second stage also using cnn detected individual point fragment photo cut previously detected roi schock trained unet network segment limb fitted circle upper part femur detect center femoral head anatomical determined using least square method based contour femur tibia following point designated binary mask stroke point inter-reader correlation coefficient determination hip–knee–ankle anatomical-mechanical angle ranged 0.918 0.995 range 0.001 agreement almost perfect within-class correlation coefficient range 0.87–0.99 yarla yolov4 resnet landmark regression algorithm system developed tack fully automatically find landmark center femoral head lower femur center upper tibia talus border point necessary determine measure used knee alignment example hka assessment first step used yolo detect hip joint knee ankle full leg x-ray assigned roi regress landmark coordinate detected residual neural network resnet compared result obtained calculated angle two raters cooke duryea osteoarthritis initiative oai yarla achieved average mismatch 0.09 0.63 hka angle determination cooke duryea yarla demonstrated excellent reliability measured weighted kappa value spearman rho value compared investigator comparison algorithm result rater showed level reliability similar comparison two raters paper introduced automatic method calculate hto correction angle according miniaci method goal paper calculate correction angle high tibial osteotomy using miniaci method achieve find characteristic point leg x-ray image method consists several step roi detection using yolo point determination using hough transform asm aam well image processing method result method compared three orthopedic specialist used icc coefficient bland altman plot analysis evaluate result result get better overview problem conducted analysis data set result labelling important aspect distribution angle labelled specialist fitted skew normal distribution correction angle result labelling six point specialist separately one distribution fit correction angle dataset allowing duplicate entry single image since three specialist labelling image corresponding distribution shown fig highlight important fact dataset provide way measure model performance first pdfs probability density function angle labelled specialist similar mean almost labelists making possible compare distribution output model trained correction angle task unknown real distribution approximated fitting pdf case skew-normal pdf angle calculated using point labelled specialist even comparison distribution directly possible least mean model output lie close total distribution shown fig second range correction angle according literature orthopedic practice ^\circ –18 ^\circ range surgery required angle greater ^\circ surgery may performed sample dataset contain correction angle range operation suggested outside range figure dataset analysis distribution correction angle dataset distribution correction angle specialist separately value mean close enough overlap forming black line plot full size image figure show block diagram method first image processed yolo model order extract region interest femoral head knee ankle region detect point according miniaci method applying analytic geometry formula calculate estimated correction angle figure block diagram algorithm calculating hto correction angle using miniaci method correction angle angle yellow green line full size image using datasets mentioned section method able successfully train yolo model achieving near-perfect map score validation set hinting possibility reducing model complexity yolo model trained validated using publicly available datasets x-ray ankle region dataset therefore test set model used whole long-leg standing x-ray dataset test image yielding total leg yolo model unable detect one bounding box femoral head pathological change considering six bounding box usually located image two leg ankle knee femoral head result indicates good model performance used circular hough transform detect center point femoral head image processing method determine inner outer point talus case knee experiment carried active shape model asm active appearance model aam changed number landmark training shape result summarized table show using aam model final prediction angle achieves lower mean median maximum error asm model greater number training point better model fit shape case asm model observed model prone discrepancy shape fitting resulting high maximum error angle prediction basis achieved experimental result chose aam model training point final model determine knee point using automatic method table mean median range error icc calculating correction angle use asm aam algorithm detect knee point three variant number training point model error calculated absolute difference predicted angle mean angle three specialist significant value bold full size table figure sample result close-up hip–knee–ankle roi black frame bounding box predicted using yolo cyan dot point predicted algorithm red green blue dot point marked three orthopedic specialist predicted 0.64 specialist mean 0.64 error 0.00 predicted 24.2 specialist mean 24.86 error 0.66 predicted 3.92 specialist mean 5.18 error 1.26 predicted 12.96 specialist mean 11.12 error 1.84 predicted 8.86 specialist mean 11.44 error 2.76 full size image figure show example result fully-automatic method selected example minimum fig maximum fig difference predicted angle mean angle specialist figure represents leg correction angle highest dataset fig chosen show incorrect detection ankle point due rotation fig point determined automatically point determined specialist coincide predicted angle equal mean observer angle fig visible rotated ankle incorrect marking external point shift center point outer part knee however case advanced varus leg error significantly affect difference calculating correction angle figure show error resulting inaccurate prediction point rotated ankle higher case fig outer knee point incorrectly predicted error case fig influenced incorrect bounding box femoral head due visible pathological deformation invisible joint space x-ray photo figure visualization algorithm error comparison mean observer distribution error automatic determination correction angle prediction error calculated absolute difference predicted angle mean observer angle bland–altman plot mean observer angle predicted angle full size image table comparison three raters mean rater fully-automated method fam proposed paper mean median range absolute difference error icc calculating correction angle calculated full size table table present result comparison correction angle three orthopedic specialist mean observer proposed fully automatic method median mean error algorithm raters slightly higher value obtained different raters maximum difference orthopedic specialist greater ^\circ combination assessment obtained high icc coefficient mean excellent reliability method used interchangeably figure show distribution angle error apart three outlier shown explained fig error value 1.5 ^\circ large proportion error 0.5 ^\circ bland–altman plot shown fig show point except three lie within acceptable agreement level systematic error low indicates algorithm prone slightly overestimating angle analysis bland–altman plot prof statistically acceptable agreement level mean observer fully automated algorithm according jiang obtain correct value hip–knee–ankle hka angle hto necessary determine correction angle using miniaci method accuracy 1.63 ^\circ apart three outlier error value obtained automated method within given range moreover example outlier point clearly incorrect quickly identified corrected orthopedist discussion high tibial osteotomy performed successfully surgical operation treat knee osteoarthritis knee varus deformity due fact manual semi-automatic preoperative planning time-consuming doctor propose fully-automatic method calculating correction angle using miniaci method development testing method prepared database long leg standing x-ray performed anterior-posterior view available conjunction article method consisted several stage roi detection using yolov4 detection characteristic point using hough transform asm/aam image processing method performance asm aam model compared different training landmark configuration finally method knee point detection use aam chosen result method compared three orthopedic specialist using icc coefficient bland–altman plot compared mean observer model obtained mean absolute error 0.5 median error 0.3 icc ratio 0.99 0.98–0.99 highest error 2.74 ^\circ due incorrect detection femoral head yolo caused deformation remaining case high value absolute error relation average observer often result rotation leg x-ray image incorrectly marked point clearly visible corrected specialist planning operation difference individual raters amounting even 1.29 ^\circ also clearly noticeable however according simulation research carried jiang obtain postoperative value hka angle within physiological range suggested correction angle determined accuracy 1.63 ^\circ follows result method except three outlier result orthopedic specialist considered consistent method show statistically acceptable agreement proposed method successfully tested common correction angle hto surgery suggested correct may useful part screening assessment limb axis alignment one disadvantage method applied rotated limb photo may result abnormality alignment leg method datasets long-leg standing x-ray performed anterior-posterior view taken ortotop medical center poland entire dataset contained x-ray patient agreed share anonymized image research commercial use excluded sample contained implant reducing size data set example divided dataset training test set ratio 1:3 respectively image training set test set femoral head segmentation data set used train yolov4 network bounding box head automatically marked using circular hough transform potential error manually corrected improvement yolo modelperformance femoral head detection task used pelvix x-ray image pelvixnet model dataset contains x-ray image pelvis labelled manually detect knee region interest knee osteoarthritis severity grading dataset used contains image knee per image image randomly sampled data set image upscaled four time original size ensure bounding box size consistent rest training data upscaling labelled image manually x-ray ankle region interest manually labelled image provided ortotop medical center poland image ankle region potentially large context e.g. tibial shaft labelled manually order increase robustness yolo object detector covid-19 dataset used negative sample contains chest x-ray image covid-positive case used sample experiment ethic statement data long-leg standing x-ray x-ray ankle provided ortotop medical center poland study non-interventional retrospective participant study signed written informed consent image used data anonymized sampled desensitized example dataset shared data repository method performed accordance relevant guideline regulation approved biomedical commission kraków medical chamber oil/kbl/1/2023 miniaci method open-edge medial high tibial osteotomy hto one procedure used treat medial knee osteoarthritis orthopedic procedure performed restore mechanical axis lower extremity relieve patient pain order procedure successful proper preoperative planning necessary preoperative planning miniaci method used first mechanical axis limb marked connecting center femoral head center ankle joint ma-mechanical axis next line start center femoral head pas so-called fujisawa point knee level fujisawa point 62.5 lateral medial edge tibial plateau correction axis next hinge point assessed point center rotation angulation cora must correctly positioned along tibial plateau reference lateral cortex tibia determining point crucial mandatory achieve stable lateral hinge proper hinge point reduces risk fracture tibial articular surface however exact value yet estimated assumed point 20–25 tibial plateau 5–10 medially tibial lateral cortex next starting point osteotomy determined medial tibial cortex marked closer 30mm joint line farther 50–60 finally opening correction angle determined correction angle first line connects hinge point center ankle joint second line connects intersection line pass fujisawa point level ground angle formed line correction angle automatic method method determining landmark calculate correction angle according miniaci method consists several step detect femoral head knee ankle using yolo detect point within predicted bounding box find center femoral head using hough transform find inner outer knee point using active appearance model aam active shape model asm find talus border point using image processing algorithm calculate position hinge point calculate correction angle according miniaci method yolo local shape alignment method mentioned tend significantly divergent applied full-scale image without proper shape initialization reason object detection method required provide consistent accurate method locating region interest recently proposed many method locating object image classifying chose scaled-yolov4-p6 architecture allows train model data set containing region interest surrounding context e.g image knee femur head due availability pre-trained model use case possible acquire well performing model using little couple hundred labelled image data set separately contain region interest scaled-yolov4 model internally utilize multiple convolutional layer composed csp block first introduced cspnet architecture csp block stacked depth-wise create deep neural network variant also upscaling downscaling layer top csp block stack training model requires data set consisting pair image label label contains class position size bounding box designate region interest given image case merged multiple data set containing region detected—the femoral head lower part knee containing tibial plateau ankle joint model output consists bounding box located along objectness class probability objectness score indicating confident network object found class score determining actual class object important feature yolov4 model family ability predict multiple bounding box per image filtered using specified objectness score threshold finally merged using non-maximum suppression algorithm two-step approach also allows potential improvement model recall small e.g. possible lower objectness threshold increase recall use domain-specific algorithm remove invalid bounding box e.g. removing detected ankle joint small objectness score femoral head also detected close proximity case model performance without improvement sufficient mention solution potential improvement domain-specific application exact implementation used open-source darknet implementation alexey bochkovskiy hough transform used hough transform detect femoral head fragment photo cropped use bounding box provided yolo finding circle using hough transform consists two step detecting edge finding possible circle center calculating best radius potential circle center hough method look best value parameter described aligned x-a ^2+ y-b r^2 aligned —circle border point —circle center point —circle radius based accumulated vote multidimensional space parameter peak accumulated vote table selected one first method selecting maximum peak one proposed gerig klein center selected circle direction maximum gray level gradient boundary point circle method search circle limited radius circle proportional size bounding box implementation hough transform algorithm come scikit-image library knee point detection labelled training set knee photos—separately left leg right leg point joint annotated using data labelling software label studio also performed experiment point labelled joint model point characteristic inner outer knee point determined average point marked three specialist added conducted experiment fit asm aam model full leg image moving initialization shape center bounding box predicted yolo trained asm aam model image performing histogram equalization select hyperparameters model separated validation set training set sample compared fitting error relation shape ground truth implementation model used menpo project active shape model active shape model fit model edge image often initializing shape one training shape iteratively algorithm evaluates surroundings point fit shape target object case tibial plateau point searched along profile normal shape often point contain strongest edge along profile may also contain weaker edge structural feature training statistical model gray-level structure built search along normal profile boundary model point effectiveness fitting statistical model gray-level structure new image assessed using mahalanobis distance minimize distance maximize probability new sample come model distribution active appearance model appearance model generated model shape variation model appearance variation shape-normalized frame landmark aligned common coordinate frame principal component analysis pca applied estimation model parameter pose texture transformation carried iteratively error reduction reached convergence occurs model fitting point within image frame projected onto texture model frame afterwards error vector calculated displacement marked model parameter updated next step iteration new point within frame texture model calculated re-sampling pixel around given area image evaluating new error vector error within acceptable range parameter updated different factor next iteration hinge point calculation determined hinge point based label marked training set specialist calculated percentage distance hinge point axis axis image outer point knee relation width knee value relative shift axis axis knee width talus border point determination applied horizontal sobel filter thresholding morphological transformation opening closing removing small object order segment horizontal part tibiotalar joint space binary mask prepared way outer point determined used coordinate calculate correction angle according miniaci method implementation image processing algorithm come scikit-image library intra-class correlation coefficient correction angle calculation high tibial osteotomy depends particular orthopedist mark point specific method used therefore true value used ass validity model inter-rater reliability metric allows one determine degree agreement different observer researcher system characterized high reliability consistency evaluator used interchangeably icc coefficient determined range 0–1 value 0.5 mean poor reliability 0.5 0.75 moderate reliability 0.75 0.9 good reliability value 0.9 excellent reliability based confidence interval case measured inter-rater reliability using intra-class correlation coefficient icc calculate icc used implementation pingouin python package ass reliability method asked three independent orthopedic specialist mark point image needed determine correction angle using miniaci method icc determined angle calculated based point marked orthopedist angle calculated fully automatic method