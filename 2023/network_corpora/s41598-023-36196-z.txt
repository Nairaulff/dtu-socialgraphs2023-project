introduction network relevant various scientific field ranging social network sociology metabolical network biology various technique try improve understanding network one technique cluster node network node within cluster relatively densely connected relatively sparsely connected cluster wide variety clustering approach network modularity stochastic block model approach based dynamical process network random walk sometimes similar approach solved various way example modularity first proposed used cutting approach based betweenness new algorithm continuously proposed either improving speed algorithm quality partition includes fast greedy approach slower simulated annealing approach faster algorithm based extremal optimisation fast hierarchical multi-level method known louvain algorithm recently improved upon leiden algorithm algorithm also optimise different quality function constant potts model technique take heuristic approach label propagation algorithm lpa foremost focus speed trying find cluster little time possible simply put lpa work iteratively updating label node label common among neighbour propose fast variant lpa flpa potentially run hundred time faster lpa allows cluster even larger network even time consider useful first initial look network although method arguably robust preferable result lpa local minimum global quality function optimum simply placing node single community quality function may informative structure network first briefly review lpa introduce fast variant flpa next section briefly analyse performance lpa flpa theoretically followed experimental analysis synthetic empirical network label propagation algorithm introduce label propagation algorithm lpa formally detailed review label propagation algorithm refer reader literature review let undirected multigraph node edge node edge let adjacency matrix graph number edge node connected i.e implementation lpa quite straightforward let c_i\ label node typically node initially labelled differently i.e c_i step take random change label majority neighbourhood detail following specific node count many neighbour label n_c j\in c_j c_j kronecker delta function c_j c_j otherwise consider set frequent label n_c\ randomly sample uniformly set frequent label label update label c_i repeat step node looped node check whether label among frequent whether label maximal label maximal perform another iteration node label maximal algorithm summarised algorithm version label propagation also referred asynchronous implementation label propagation synchronous implementation label propagation showed potential problem near bipartite network network resulting oscillation label therefore consider synchronous implementation limit discussion asynchronous implementation lpa terminates guaranteed label c_i\ node i\in maximal c_i j\in c_j trivial prove since lpa continues process node label maximal original introduction lpa observed close definition community strong sense introduced ref overall time complexity single iteration node lpa number iteration necessary convergence known theoretically observed generally iteration suffice label consistent final labelling however clear result overall runtime complexity lpa retention strategy lpa stop iterating whenever label node maximal original implementation lpa simply considered always updating label randomly selected maximal label later so-called retention strategy suggested update label maximal one great benefit simply keep track whether label updated iteration continue iterating node mean necessary check maximal label iteration node making implementation efficient retention strategy summarised algorithm addition retention strategy introduces stability doe continuously sample competing maximal label single node like original lpa doe lpa sometimes show appearance giant cluster might related quality function implicitly optimises indeed merging neighbouring cluster doe alter label maximality arbitrary combination cluster principle still meet original stopping criterion retention strategy might prevent method finding giant cluster empirical observation literature noted expect roughly 1.03 0.23 iteration retention strategy empirical network lead overall time complexity 1.23 retention strategy fast label propagation algorithm introduce fast label propagation algorithm flpa based principle used fast local move leiden algorithm similar lpa node associated label c_i\ use similar majority update rule however instead checking iteration whether label maximal considering whether label updated done retention strategy maintain explicit queue node considered c_i\ node changed append neighbour n_i queue particular add neighbour n_i\ queue label different new label c_j c_i\ doe yet belong queue step pop node beginning queue continue process node queue empty hence instead iterating node label changed consider node whose neighbourhood label changed greatly reduces number node consider making algorithm even faster algorithm summarised algorithm prove flpa provides guarantee lpa namely flpa terminates guaranteed label c_i\ node i\in maximal first observe node queue label c_i\ maximal label c_i c_j clearly hold node processed node currently part queue discern two case first case label neighbourhood changed case label c_i\ continues maximal label second case label neighbour j\in n_i\ changed must hold c_j c_i\ since otherwise added queue case number label neighbourhood equal c_i\ increased c_i maximal prior node changing label continues maximal hence c_i\ continues maximal label long node part queue queue empty label c_i\ node guaranteed maximal label similar lpa earlier literature also suggested speedup lpa similar fashion however seem taken slightly complicated approach either introducing additional heuristic requiring algorithm check whether neighbour might updated approach easier implement seems result even greater speedup result understand better difference lpa retention alternative flpa analysed three theoretical graph complete graph star graph cycle graph addition also analysed difference result practice ran benchmark five different type synthetic network twelve different empirical network addition comparing lpa retention alternative flpa also compare leiden algorithm one fastest available algorithm use leiden algorithm optimise modularity compare speed resulting partition first discus theoretical result present result synthetic network following discus result empirical network theoretical analysis lpa performs number iteration node potential update label node complexity k_i k_i\ degree node therefore total complexity single iteration linear number edge number iteration doe scale simply linear complexity presumably however number iteration increase clear exactly complexity also relates resulting partition since finding partition equally weighted cluster likely take time finding partition consisting single cluster reasoning applies retention variant flpa specific graph analyse complexity detail analyse algorithm three theoretical graph complete graph star graph cycle graph summarise runtime complexity table table expected runtime complexity lpa retention variant flpa two theoretical graph full size table complete graph let start analysing complete graph node array n\\ 2\end array edge three algorithm lpa retention variant flpa find partition consisting single cluster within single iteration node suppose contrary partition consists cluster label node maximal prove contradiction possible cluster label label occurs n_c\ time suppose n_c n_d\ pair node label n_d neighbour label since n_c n_d label maximal therefore n_c n_d\ impossible one cluster let consider complexity initially algorithm start singleton partition c_i let analyse first node considered algorithm without loss generality label node node neighbour initially node cluster meaning unique label node occurs since current label c_1 node yet maximal random label chosen algorithm say label set c_1 consider node assuming unique label occur one label namely label occurs twice thus single maximal label node switch label subsequently remaining node also switch label hence node assigned label end three algorithm consider node case however lpa retention variant consider node updating checking maximality flpa doe need queue empty considering node mean total runtime case lpa retention flpa exception namely occurs probability let consider happens node current label c_2 maximal since unique label occurs includes label retention strategy draw random label since current label already among maximal label neighbour therefore retention remaining node simply switch label end complexity however lpa flpa random label drawn maximal label probability label drawn case remaining label also change label label maximal single iteration probability label drawn case need perform another round lpa since c_1 maximal flpa node added queue probability needing second iteration node lpa aligned aligned cover first iteration similar probability involved subsequent iteration clearly probability equally therefore expected runtime lpa close although slightly higher node continuously select label node considered next c_1 c_2\ continue single label occurs twice label occur flpa node chooses label node considered next i.e c_i add node i-1\ previously considered queue node happens probability lead expected number additional node aligned n-1 n-2 aligned since degree node equal n-1\ total expected runtime flpa star graph analyse star graph node single node center leaf node connected central node total edge similar complete graph three algorithm find partition consisting single cluster clearly leaf node different label central node since neighbour definition leaf node must label central node hence node label regardless updating order leaf node always adopt label central node algorithm question happens central node central node selected first simply choose random label leaf leaf adopt label central node selected third later change label label definition maximal label thus case node considered lpa retention perform another pas node check maximality case lpa change retention resulting total runtime flpa node ever added initial queue node resulting runtime let examine happens central node selected second node update happens probability therefore unlikely much effect overall expected runtime retention strategy central node considered second mean first node already adopted label central node retention strategy update label thus retention affected maintains runtime lpa central node considered second choose label current label probability case remaining node also updated label node identical label lpa terminates different label selected leaf node also adopt label subsequent iteration node except first leaf node initially considered update label therefore lpa converge two iteration second iteration occurring probability resulting total expected runtime aligned 2m\left aligned finally flpa central node considered second chooses label different current label first leaf node initially considered added queue nothing hence total expected runtime aligned aligned cycle graph let consider cycle graph node contrast complete graph star graph algorithm result different partition three algorithm node whose neighbour yet updated simply chooses label random neighbour distribution cluster size difficult analyse exactly regardless label maximal cluster larger single node clear node interior cluster since label identical two neighbour node border cluster current label among maximal label border cluster difference individual algorithm emerge retention strategy update considered anymore therefore quickly settle partition doe include cluster size one lpa picture bit different border two cluster node update label randomly choosing label left label right thus long still cluster size one partition border continue change lpa unlike retention strategy although cluster size one may disappear may also newly appear cluster larger size shrink flpa picture slightly different whereas lpa simply continues move around node thus move around border long cluster size one flpa local dynamic suppose flpa update label node border cluster happens neighbour old cluster added queue unlike neighbour new cluster probability neighbouring node updated happens probability cetera continuing reasoning expected number move resulting single border aligned ^\infty aligned finally node cluster size one never maximal flpa continue run cluster difference however node cluster moved rather always considering node border like lpa doe summary retention strategy likely detect fine-grained cluster lpa least fine-grained cluster flpa somewhere experimental simulation suggest retention settle cluster 2.72 node flpa cluster 4.11 node whereas cluster size increase number node lpa term runtime retention expected converge fastest lpa slowest flpa somewhere nonetheless retention still consider updating node even moving single node cluster size one total runtime flpa might still lower runtime retention strategy experimental result present experimental result based implementation lpa retention variant flpa leiden algorithm optimising modularity test result report average standard deviation 2\,000\ run unless explicitly stated otherwise result run dell poweredge m620 computing node intel e5-2697 cpu figure algorithm runtime synthetic network increasing number node average degree =10\ top erdős-rényi random graph barabási-albert scale-free graph forest fire graph burning probability 0.5 two-dimensional geometric graph connection radius bottom stochastic block model graph group mixing parameter full size image synthetic network clear network flpa always faster lpa fig largest network 100\,000\ node flpa somewhere 3–10 time faster lpa erdős-rényi graph lpa twice slow flpa comparable runtime leiden algorithm two-dimensional geometric graph lpa even 3–4 time slower leiden algorithm turn still 3–4 time slow flpa tested algorithm stochastic block model sbm group mixing parameter =0.6\ average degree =10\ node link within group scattered across group case lpa twice slow flpa 1.5 time faster leiden algorithm figure left largest cluster size erdőős-rényi random graph right number cluster stochastic block model graph increasing number node average degree =10\ note result lpa well visible overlap result flpa full size image comparison flpa retention variant lpa complex network retention strategy alternative faster network flpa faster however case retention strategy faster typically fails perform well instance graph lpa flpa find single large cluster fig left expected based earlier literature retention strategy simply terminates almost immediately finding partition closely resembles singleton partition node cluster sbm graph lpa flpa typically find partition close planted partition retention strategy find many small cluster within group planted partition fig right understandable since every group essentially graph internally short retention strategy faster simply stop soon found small community structure overall scaling lpa flpa seems near linear although might super-linear factor algorithm experimentally estimate runtime complexity form m^b using levenberg-marquardt algorithm number edge coefficient central interest graph lpa scale 1.58 flpa 1.49 retention strategy scale 1.15 already noticed graph retention find small cluster explains lower complexity forest fire graph geometric graph flpa much faster lpa retention strategy indeed find scaling 1.27 forest fire graph 1.21 geometric graph flpa lpa show scaling 1.67 1.57 respectively retention showing scaling 1.47 1.37 respectively finally sbm graph performance lpa flpa similar performance graph leading complexity 1.53 lpa 1.64 flpa retention strategy scaling estimated unambiguously since find completely different partition depending size graph larger graph tends find fine-grained structure within cluster causing converge relatively faster smaller graph figure algorithm runtime middle erdős-rényi random graph right stochastic block model graph n=10^5\ node varying average degree full size image runtime complexity also depends challenging find partition investigate closely consider runtime algorithm varying average degree fig lpa flpa retention find small cluster graph low average degree degree sufficiently large lpa flpa find single large cluster fig left also suggested theoretical analysis complete graph larger degree faster lpa flpa converge towards large cluster fig middle ultimately n-1\ graph complete graph theoretical runtimes indicate flpa twice fast lpa contrast retention strategy doe show convergence single large cluster 25\ overall figure similar sbm graph fig right initially algorithm struggle uncover planted partition degree sufficiently high planted partition becomes easily recognisable algorithm converge faster figure accuracy partition stochastic block model graph n=10^5\ node left varying mixing parameter higher corresponds partition challenging detect middle varying average degree right small social network metadata node cluster full size image sbm graph also compare detected partition planted partition group fig using normalised mutual information nmi increase mixing parameter fig left find lpa flpa able detect correct partition threshold edge within group =1\ edge group increasing make difficult correctly detect planted partition n_c sbm identical graph n_c\ size community although already becomes essentially indistinguishable threshold due stochastic fluctuation =0.3\ lpa flpa detect planted partition perfectly 0.4\ performance start degrade 0.5\ algorithm longer find planted partition closely resembles result leiden algorithm use optimise modularity retention strategy never able detect planted partition correctly mostly find fine-grained structure within planted cluster increase average degree fig middle retention strategy also able find planted partition however retention strategy requires far larger degree 15\ lpa flpa leiden algorithm figure distance partition top synthetic network n=10^5\ node bottom empirical network full size image also compare difference across partition detected different algorithm fig top based normalised variation information algorithm denotes average two run algorithm exact graph interpret self-vi measure stability larger value suggest partition differ quite bit run run indicating lower stability lower value suggest partition quite similar run run indicating higher stability graph essentially variation within lpa flpa always find single large cluster retention strategy explained earlier typically find structure within graph also differ quite bit run run leiden algorithm also show quite different result run run also find structure within graph known result modularity forest fire graph two-dimensional geometric graph three variant lpa find relatively comparable structure differs partition leiden algorithm stability partition two-dimensional geometric graph three lpa variant similar stability leiden algorithm finally sbm graph retention strategy seems unable find meaningful partition explained earlier group sbm similar graph retention strategy also find small substructure hence also show sbm result contrast lpa flpa able find relatively stable partition similar similar result leiden algorithm detect planted partition sbm empirical network discus result empirical network first tested algorithm seven large empirical network vary size ranging 317\,080\ node 1\,049\,866\ edge smallest network com-dblp 6\,297\,539\ node 16\,057\,711\ edge bitcoin 4\,847\,571\ node 68\,993\,773\ edge livejournal flpa 30–700 time faster lpa table 4–15 time faster retention strategy largest network bitcoin lpa take min average flpa finished lpa far slowest us-patents network take flpa finished may partly due lpa finding much coarser partition largest cluster cover 38\ node find time fewer cluster retention alternative time fewer cluster flpa conforms general pattern lpa find least cluster flpa find cluster retention strategy find even cluster priori reason prefer larger smaller cluster say whether method would preferable based observation partition empirical network similar three variant lpa fig bottom moreover differ similarly result leiden algorithm leiden algorithm show greater lpa livejournal twitter-sample network might related community size leiden find since use optimise modularity suffers resolution limit resolution limit might lead method aggregate several cluster together may somewhat arbitrary indeed leiden algorithm using modularity typically find order magnitude fewer cluster lpa already noted earlier us-patents network larger difference lpa retention variant flpa also tested algorithm five small social network known sociological division node community fig right compare detected partition node cluster described method present timing result network since small measurement informative overall result indicate lpa find partition highest nmi network followed flpa retention strategy leiden algorithm optimises modularity find worst partition measured nmi however result differ much algorithm table speedup fast label propagation empirical network result average 2\,000\ run algorithm 1\,986\ run bitcoin network full size table discussion detecting community network frequent task network analysis label propagation one fastest algorithm available may useful get initial first look network suggested faster variant label propagation fast label propagation run time faster original label propagation additionally guarantee continue hold result algorithm largely comparable quality partition flpa find seem par lpa using label propagation believe fast variant bring benefit additional cost although label propagation may useful get first look network method may likely provide accurate result one possibility use flpa obtain initial rough partition improved leiden algorithm aiming specific objective function label propagation also used effectively efficiently compress facebook graph calculate four degree separation time quite similar majority opinion simulation suggested speedup might also relevant context application method algorithm implementation implemented flpa igraph made available python interface python-igraph source code found http python interface found http compared flpa existing implementation lpa python- igraph empirical network large empirical network table part netzschleuder repository downloaded http network reduced largest connected component com-dblp co-authorship network extracted dblp database roadnet-ca road network california us-patents u.s. patent citation network foursquare network represents check-in event foursquare april september livejournal online social network livejournal member twitter-sample sample twitter follower network extracted bitcoin network bitcoin transaction january april small social network fig either part netzschleuder repository available supplementary material ref karate friendship network among member university karate club divided two faction node edge dolphin social network frequent association observed among dolphin living new zealand sociological division dolphin two group node edge football network represents american football game u.s. college regular season college assigned one twelve conference node edge school-day1 school-day2 network encode face-to-face interaction child teacher french elementary school two consecutive day metadata contain assignment child class following original study include edge individual interacted least minute node 1\,956\ 2\,177\ edge respectively