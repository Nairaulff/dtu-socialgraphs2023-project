introduction along rising economy tourism increasing demand people improve quality life tourist safety primary factor affecting tourism development however due seasonal concentrated characteristic tourism activity overload threatens tourist safety example itaewon south korea stampede occurred halloween festival causing hundred tourist casualty incident exposed shortcoming tourism management flow warning tourist evacuation representative hangzhou china scenic attraction west lake often overcrowded tourism season addition great difference tourist distribution example white causeway causeway popular scenic spot overloaded surrounding scenic spot similar style low visitor traffic uneven distribution space-time increase management difficulty lead poor tourist experience traditional method solving overcrowded area include limited access guided evacuation.although former higher execution efficiency latter reasonable humanized however designing efficient feasible evacuation method key solving overcrowding problem therefore many study began engaged mining tourist behaviour road feature improve diversity rationality evacuation route example karthik suja proposed evacuation method based pedestrian familiarity location study consider tourist walking habit design evacuation model route planning body-turning behaviour walking right travel behaviour however method account tourist travel preference therefore evacuation destination meet travel need tourist reduces willingness cooperate although also study personalized travel recommendation aim plan trip without considering tourist flow example paulavicius considered start end location tourist preference limited time spent similar attraction nagarajan used travel review dataset classify traveller rating travel destination based paper proposes personalized scenic spot recommendation method alleviate overcrowding considering factor tourist travel style scenic spot carrying capacity route complexity recommendation algorithm help exploit preference tourist realize personalized recommendations.recommendation algorithm roughly divided two category traditional recommendation algorithm recommendation algorithm based deep learning network traditional recommendation algorithm machine learning method calculate matching degree similarity degree item recommended based user characteristic item characteristic divided content-based user-based collaborative filtering mixed recommendation recommendation algorithm based deep learning network better processing big data mining complex structural information example graph neural network gnns process graph structure information capture higher-order relationship information transfer graph node stronger interpretation ability therefore many researcher use gnns variant design recommendation algorithm example wang proposed top-n personalized recommendation graph neural network tp-gnn moocs learn explicit representation structural relation item trip recommendation gnns shown good performance travel package recommendation travel mode recommendation popular attraction traveller based season tourist interest however topic intended evacuation purpose therefore paper design scenic spot recommendation method evacuation based gnns improves gnn accuracy predicting attraction tourist interest based analysis research proposed personalized evacuation route recommendation algorithm based gnn considering tourist travel preference evacuation route complexity real-time carrying capacity scenic spot addition taking west lake example paper design scenic spot visualization system monitor capacity scenic spot real time carry evacuation planning overloaded scenic spot based proposed method recommendation algorithm visualization system also applied managing scenic spot improve tourist management provide better service summary contribution paper follows improve gnn accuracy predicting attraction tourist interest paper proposes improved graph convolutional neural network named per-gcn per-gcn tourism style similarity calculation method designed obtain tourist preference score based mining interaction matrix tourist scenic spot purpose tourist evacuation paper proposes personalized scenic spot recommendation method based per-gcn paper considers factor tourist preference scenic spot carrying capacity route complexity visualization system designed west lake administration system used monitor tourist flow real time use proposed method evacuate tourist overloaded scenic spot efficiency effectiveness evacuation simulated system controlling different parameter setting rest paper organized follows related work section review related work proposed evacuation route recommendation method section proposes evacuation route recommendation method introduce design method visualization system section introduces system design visualization method experimental result visualization analysis section describes data source visualization task present result comparative experiment visual analysis summary future work section concludes study provides several possible future work related work paper related work includes evacuation management collaborative filtering algorithm based gnn spatial network model visualization short review evacuation management two hot topic evacuation management including evacuation factor analysis evacuation planning evacuation factor analysis related effectiveness efficiency evacuation plan case major emergency evacuation efficiency important thus decision-maker consider transporting stakeholder danger area refuge within shortest time however case situation emergency predicted planned advance tourist evacuation existing study tourist evacuation focus evacuation efficiency accessibility connectivity example gehlot consider road traffic arrival time develop effective evacuation strategy hurricane disaster preferred destination decided traveller ricardo used site survey questionnaire survey show high willingness evacuate also found traveller want understand evacuation direction evacuation area location therefore research suggests traveller decision cooperation important traveller preference rarely considered evacuation plan tourism route planning tourist preference important factor making recommendation attraction example zahra used user review tourism social network extract preference provide personalized recommendations.nitu analysed user twitter data friend follower understand recent travel interest design personalized recommendation model incorporating time sensitivity however study tourist interest considered real-time carrying capacity scenic spot therefore directly used recommended model tourist evacuation purpose evacuation efficiency carrying capacity tourist interest considered evacuation model design key improving calculation efficiency achieving evacuation goal appropriate evacuation model ensure safety stakeholder principle shortest route evacuating plan shortest escape route according experience escape danger area fastest way.however shortest route algorithm best choice route different route planning algorithm different route planning objective several type evacuation model exist example praditya use hybrid collaborative filtering content-based filtering method recommend tourist destination kirchner introduced cellular automatic model evacuation modelling first time build pedestrian movement migration model deep learning model mine abstract problem big data learning model training rely powerful computing power computer carry big data operation suitable analysing big data traditional evacuation model computing method show higher data processing capacity prediction ability currently deep learning model widely used tourism recommendation example proposed travel route recommendation algorithm combine convolutional neural network collaborative filtering proposed network evacuation route optimization model based heuristic fusion algorithm duan analysed user historical interest check-in behaviour detail constructed convolutional neural network extract potential feature target visiting area user active interest learned user historical interest therefore using appropriate deep learning model explore tourist preference developing evacuation model effective approach recommendation algorithm based graph neural network gnn application based complex graph structure recommendation algorithm based gnn better extract interactive information user item superior performance feature extraction applying gnns recommendation become inevitable development trend integrate user interest preference effectively improve accuracy according different application scenario correlation gnns also improved roposed recommendation model sr-gnn based gnn extract short-term dynamic user preference session forecast user behaviour gnn traditional attention mechanism cui proposed nodewise graph neural network ngnn model based graph attention mechanism clothing recommendation using attention mechanism calculate graph output predict compatibility score recommend reasonable clothing collocation user zhang proposed model combining many graph convolution network gcns encoders/decoders intermediate supervisor improve final prediction performance successful gnn application recommendation field graph neural network many field also applied recommendation system ying applied gnn first time solve problem industrial web page recommendation face large-scale web information compared traditional deep learning algorithm recommendation result model met need user achieved satisfactory result proposed hierarchical fashion graph neural network hfgn model personalized clothing recommendation original historical record used user personal preference model user clothing personalized recommendation output predicted rated hierarchical graph convolution proposed session recommendation architecture based neural network sr-gnn predict user behaviour anonymous session combine graph model presentation session sequence model attention mechanism learn user general interest current interest make recommendation according user personal interest addition min design self-supervised graph neural network model based distribution characteristic power-law distribution feng used graph convolution calculate effectiveness score reduce error predicting commodity recommendation according investigation little research application gnns evacuation route recommendation based principle free lunch algorithm suitable solving problem since different scenic spot may similar style tourist usually relatively consistent preference different style scenic spot therefore paper proposes advanced gnn recommendation algorithm based scenic spot-style similarity score applies west lake tourist evacuation practice visualization technology spatial network recent year visualization technology widely used many field network visualization geospatial data visualization model visualization network visualization important field information visualization display relationship element graphical way help user observe analyse data mine valuable information therefore highly valued scholar various country widely applied various network data analysis management field zhou built network diagram analyse mental health status college student based personality quantization table zhao visualized node-link graph constructed network graph express background story influencing graph perception recognition among spatial network visualization important form network visualization zhou represented human movement data form origin-destination selected flow vector representation space designed set visual coding represent interaction flow reduced visual clutter enhanced flow relevance realized zhou constructed matrix reconstruct temporal spatial attribute taxi data rapidly identified different urban functional area analysed crowd flow pattern visual interaction framework geospatial map kind image describes situation various resource different geographical location related thing scenic spot recommendation process geospatial location reflects people travel choice geographic coordinate often additional attribute node origin destination silva design spatio-temporal visualization pm10 concentration monitor understand behavior pm10 concentration different location related thing wang proposed visual analysis system acquiring traffic bayonet vehicle operation data based radio frequency identification technology nanjing city system used dot map describe geographic spatial location traffic bayonet designed attribute colour number direction arrow represent information traffic flow speed direction flow size different bayonet user intuitively analyse discover important traffic hub traffic flow nanjing addition according individual attribute tourist target tourist modelled mastered tourist data provide strong support solving overall tour planning tourist attraction zhou used massive network data construct tourist portrait shanghai disneyland three dimension tourist basic attribute personality type interest make marketing scenic spot targeted increase utilization rate resource scenic spot yuan modelled tourist behaviour characteristic preference based various tourist data wudang mountain scenic spot explored developing local tourism improved tourist experience based previous research analysing evacuation issue different scenario different analysing tourist evacuation problem priority given tourist experience effectiveness willingness cooperate evacuation route improved utilizing tourist tourism preference route complexity addition necessary study visualization system evacuation route improve monitoring management tourist flow scenic spot proposed evacuation route recommendation method preference modelling tourism scenic spot based gnn first tourist-scene interactive data vectorized embedded vector e_v\in dim e_s\in dim used describe tourist scenic spot dim represents size embedded dimension aligned v_1 v_n tourists\ embeddings s_1 s_m scenic\ spots\ embeddings aligned main idea preference model tourism scenic spot based gnn build high-level interaction diagram based interaction relationship tourist scenic spot encode interaction information embedding vector generate high-level embedded communication layer embedded aggregation layer prediction layer calculate prediction score tourist scenic spot recommended 3-layer gnn model shown figure illustration high-order interactive information tourist scenic spot based gnn full size image high-level embedded communication layer shown fig scenic spot related tourist encoded first-order embedding information tourist enhance embedding information tourist definition follows aligned c\in n_v e_s aligned first-order connectivity information tourist e_s\ represents initial embedding scene represents attenuation coefficient propagation edge gradually attenuating change route length embedded propagation paper adopt idea neural graph collaborative filtering gcn assuming =\frac n_v n_s n_v n_s indicate number first-hop neighbour tourist scene respectively according transmission form first-order embedded information -order higher-order embedded information tourist obtained follows aligned c\in n_v n_v n_s l-1 aligned way expression form -order higher-order embedded information scenic spot follows aligned u\in n_s n_s n_v l-1 aligned embedded aggregation layer shown fig embedded propagation layer high-level information e_v^ e_v^ tourist e_s^ e_s^ scenic spot obtained figure illustration gcn model full size image embedded information order aggregated single vector aggregation function defined follows aligned l=0 p_le_ aligned aligned l=0 p_le_ aligned p_k=\frac l+1 finally aggregate embedded representation tourist scenic spot calculated inner product calculate predicted score tourist scenic spot aligned =e_ aligned order optimize gnn recommendation model bayesian personalized ranking bpr loss function selected bpr calculates overall loss model assuming tourist higher predictive value scenic spot visited scenic spot visited aligned bpr +\lambda aligned o=\left\ r^+ r^- represents training set r^+\ represents scenic spot tourist visited r^-\ scenic spot tourist visited random negative sampling strategy sigmoid function used control regularization intensity represents parameter model whole initial embedding vector use mini-batch adam optimizer optimize update model parameter preference prediction score based tourism style similarity historically visited scenic spot represent tourist preference also show similar tourism style characteristic paper similarity calculation tourism style improve prediction accuracy tourist preference recommendation thus increase willingness tourist cooperate evacuation management definition scenic spot style assume style scenic spot represented real value vector art par net rel mod represent seven tourism style historical building museum art gallery park natural landscape religious building modern landscape respectively high value prof style scenic spot obvious style scenic spot expressed follows aligned s_s= art par net rel mod aligned taking pinghu autumn moon jindai bridge zhejiang provincial museum west lake scenic spot example scenic spot-style vector shown table table example scenic spot style vector full size table definition tourism style tourism style s_v\ defined statistical result style scenic spot visited history calculated follows aligned s_v=\frac p=1 art par net rel mod aligned number scenic spot visited history finally tourism style tourist calculated shown table table example tourism style vector full size table calculation method tourist style similarity scenic spot tourism style similarity score sim_ shown based scenic spot-style vector tourism style vector cosine similarity used calculate similarity aligned sim_ =\frac i=1 v_i s_i i=1 v_i i=1 s_i aligned v_i represents value tourism style vector s_i represents value scenic spot style vector sum predicted score obtained preference prediction score based tourism style similarity section tourism style similarity score sim_ section weighting obtain improved scoring model follows aligned 1-k +ksim_ aligned weight optimal tourist evacuation route design considering route complexity real-time carrying capacity scenic spot calculate evacuation route complexity step consider tourist tourism style enhance willingness cooperate following step improve evacuation efficiency effectiveness evacuation route complexity one important factor affect evacuation efficiency paper measure evacuation route complexity calculating distance recommended scenic spot evacuation destination longer distance lower evacuation efficiency route complexity calculation method scenic spot starting point x_i\ scenic spot destination y_j\ follows aligned dis x_i y_i =\frac dis x_i y_i dis_ max aligned i=\left\ 1,2 j=\left\ 1,2 n\right\ number scenic spot dis_ max longest distance among scenic spot real-time carrying capacity calculation method avoid new congestion evacuation destination real-time carrying capacity scenic spot also important factor considered assuming total capacity scenic spot a_i\ current number people scenic spot cur real-time carrying capacity wr_i\ scenic spot calculated follows aligned wr_i=\frac a_i-r_ cur max a_i-r_ cur aligned i=\left\ 1,2 number scenic spot max a_i-r_ cur maximum real-time bearing capacity scenic spot summary tourist evacuation route recommendation method based graph neural network proposed paper consists three part scenic spot recommendation algorithm based graph neural network part proposed evacuation route recommendation method section tourist style similarity calculation part calculating route complexity real-time carrying capacity scenic spot part final evaluation score tourist scenic spot calculated follows aligned +pp dis x_i y_j +pr wr_i aligned weight route complexity carrying capacity weight visualization analysis result section parameter setting parameter setting visually analysed introduce design method visualization system paper visualization system design scenic spot evacuation management based functional visualization system design includes six part control panel design map visual interface design scenic spot-style clustering visual design scenic spot recommendation result visual design scenic spot evacuation efficiency visual design tourist portrait visual design shown fig figure design scenic spot visualization system full size image control panel data format includes .xlsx .txt file content data file historical interactive data tourist scenic spot control panel parameter design includes tourist willingness cooperate adjustable parameter set tourist update interval set 1,10 weight scenic spot capacity set 0,0.5 weight route complexity set 0,0.5 cartographic visualization map map data interactive map generated map box come front-end javascript library considering carrying capacity scenic spot location colour light green dark green yellow orange red based number tourist low high number tourist reach colour light green colour depth increase one level increase scenic spot style visualization scatter map using classic scenic spot museum temple mountain modern landscape art gallery park evaluation indicator obtain style score scenic area construct scenic area style vector based k-means method used obtain clustering information fig different colour used show clustering result scenic spot show correlation different attraction clustering scatter represents scenic spot clicked scenic spot name scenic style tourist portrait displayed fig recommendation result visualization visually display recommendation result different tourist entering tourist analyse impact parameter setting recommendation result first tourist scenic spot data imported control panel attraction capacity weight route complexity weight adjusted control panel according proposed method proposed evacuation route recommendation method section preference score scenic spot different tourist calculated sorted finally ranking attraction recommendation result shown fig horizontal axis represents recommended rating scenic spot visualization evacuation efficiency scenic spot rivermap visualize evacuation efficiency scenic spot adjust population weight route weight control panel display change number people batch river map display evacuation effect set round action moving staying batch horizontal coordinate river map represent total number evacuation evacuation total batch round set number round different colour represent different scenic spot width represents number people scenic spot corresponding evacuation batch visualization tourist portrait based historical travel behaviour tourist portrait visualized analysed first collected tourist data including age gender consumption level sporting ability historical visited scenic spot scenic spot tourist characteristic data calculated shown radar chart tourist portrait also shown radar chart figure show tourist portrait tourist portrait different scenic spot also shown fig clicking different scenic spot fig experimental result visualization analysis data source description visualization task paper take west lake example verify effectiveness proposed method experimental data provided west lake administration including real-time number tourist registration data tourist enter park including basic tourist information historical visit record satisfaction evaluation data cleaning total available data point obtained data used test effectiveness tourist evacuation route recommendation method proposed paper perform following visualization task visualization analysis real-time carrying capacity warning west lake scenic area visualization analysis style clustering result west lake scenic spot recommendation result analysis evacuation route tourist west lake scenic area visualization analysis evacuation efficiency west lake scenic spot adjusting parameter visualization analysis tourist portrait west lake scenic spot comparison experiment verify effectiveness proposed per-gcn proposed evacuation route recommendation method section per-gcn algorithm compared gcn original algorithm collaborative filtering algorithm based user ucf classical algorithm comparison experiment experiment run time nvidia geforce gtx environment algorithm cross validated west lake dataset ten iteration mean variance taken final experimental result algorithm precision rate recall rate evaluation index statistical result shown table table experimental result comparison full size table test significance comparison result used pairwise one-sided wilcoxon signed-rank test significance level 0.05 compare per-gcn ucf gcn test result shown table table wilcoxon signed-rank test performed significance level 0.05 full size table result table show per-gcn significantly better gcn ucf reason analysed follows although ucf classical method also obvious sparsity problem data scale expansion proportion data rated user overall database decrease sparsity user-rating matrix increase becomes serious leading significant decrease accuracy calculating nearest neighbour user item thus making recommendation quality recommendation system drop sharply accuracy mining information insufficient gcn matrix decomposition technique one solution sparsity problem method express relationship node adjacency matrix decomposes matrix obtain required embedding vector graph embedding represents node graph low-dimensional real-valued dense vector form obtained vector form represent reason vector space vector used specific downstream task representation entire graph low-dimensional real-valued dense vector form used classify entire graph structure algorithm reasonably increase effectiveness algorithm recommendation algorithm based gcn performs secondary fusion operation existing result gcn simple dimensionality reduction method adopted set condition remove user participated rating rated time reduce dimensionality user-rating matrix obtain accurate user-rating matrix user-rating matrix added model fusion second time improve result accuracy based advantage gcn method considers similarity tourism style gcn calculate tourist preferred scenic spot based historical travel route mining list scenic spot similar style tourism style similarity calculation obtain tourist preference information gcn-per algorithm help alleviate cold start sparsity issue thus improving recall accuracy compared gcn algorithm visualization analysis result real-time bearing capacity warning west lake scenic spot visualization system different colour used show tourist flow travel style scenic spot tourist flow light green dark green yellow orange red used show real-time tourist density colour light green red tourist density increased shown fig example real-time carrying capacity warning show tourist flow zhejiang art museum yuanfeng yuewang temple scenic spot exceeds carrying capacity real-time carrying capacity warning displayed red fewer tourist wansong academy jingci temple similar travel style proposed method tourist zhejiang art museum yuanfeng yuewang temple scenic spot recommended wansong academy jingci temple scenic spot fig clicking certain scenic spot display name figure visualization result west lake real-time carrying capacity full size image visualization analysis clustering result scenic spot style according method introduced experimental result visualization analysis section k-means used obtain clustering result scenic spot west lake shown fig based style score historical building museum art gallery park natural landscape religious building modern landscape location scenic spot style displayed scatter plot shown fig seven type scenic spot classic sight museum temple mountain modern land art gallery park represented orange yellow purple red cyan green blue respectively colour clear category difference obvious tourist easily observe distribution similar scenic spot also allowed select style attraction map view tourist portrait figure visualization result tourism style west lake scenic area full size image information extracted clustering result tourism style west lake scenic area used obtain style feature information make label scenic spot using scenic spot label mine traveller preferred travel style found yuan feng wan song shu yuan yue wang temple jing temple similar style therefore number tourist popular scenic spot exceeds carrying capacity scenic spot similar style recommended compared limited access traditional evacuation method proposed personalized recommendation method based tourist preference bring better travel experience visualization analysis recommendation result based different parameter setting adjusting control parameter weight route complexity weight scenic spot carrying capacity equation recommended result scenic spot west lake analysed figure recommendation result based different setting full size image figure show three bar chart displaying recommendation score scenic spot adjusting comparing set tourist preference considered calculate recommendation score increased recommended score considers route complexity increased recommended score considers carrying capacity figure show recommendation score tourist located scenic spot leifeng xizhao scenic spot lingyin temple high recommended score see green bar set 0.3 recommended score significantly decreased see blue bar reason lingyin temple far leifeng xizhao found fig 0.3 scenic spot lingyin temple higher recommended score see red bar reason lingyin temple greater carrying capacity found fig therefore set 0.3 recommendation result account route complexity carrying capacity therefore height orange bar height blue red bar recommendation score middle two visualization analysis evacuation efficiency based cooperation degree evacuation batch value set 0.1 evacuation efficiency analysed based willingness tourist cooperate evacuation batch river map drawn accordingly shown fig figure change river map different setting tourist willingness cooperate full size image figure change river map different evacuation batch setting full size image shown fig higher number cooperating tourist willingness cooperate unstable river map fewer evacuation batch unstable river map reasoning follows willingness cooperate reflects certain extent current flow people evacuation activity willingness cooperate number batch number people moving however willingness cooperate high flow people fluctuates greatly making river map unstable therefore method certain number tourist unwilling cooperate tolerated line actual situation help improve evacuation efficiency evacuation batch equivalent update interval model number people fixed batch indicate fewer people single evacuation activity make river map smoother fewer fluctuation based analysis concluded optimal parameter west lake tourist evacuation recommendation system set follows willingness tourist cooperate within range -75 batch setting time evacuation efficiency higher visualization analysis tourist portrait west lake scenic area visualization system radar chart used display tourist portrait scenic spot tourist shown fig tourist portrait switched view scenic spot tourist clicking location scenic spot fig choosing tourist number fig fig five indicator describe tourist portrait including sex age tourism type athletic ability consumption ability data come tourist registration information historically visited scenic spot fig red area show tourist portrait tourist green area show scenic spot five scenic spot indicator obtained calculating average value tourist information visited scenic spot range sex 0,1 represents male represents female age range 15,65 grid represents 10-year increase range consumption capacity 1000,6000 grid represents rmb1000 increase consumption capacity refers acceptable travel expense tourist west lake range athletic ability 15,000 referring daily step recorded mobile scope tourism type range knowledge type experience type obtained style vector scenic spot tourist table generally style historical building museum art gallery religious building park natural landscape modern landscape developed knowledge type experience type value therefore highest score row table represents tourism style scenic spot tourist therefore tourist portrait tourist male year old acceptable travel expense average daily step tourism type knowledge oriented based tomb xiaoxiao hangzhou garden tourist portrait analysed follows tourist portrait xiaoxiao tomb following characteristic tourism type tends knowledge style tourist relatively older age majority male consumption ability belongs luxury type athletic ability moderate tourist portrait hangzhou garden following characteristic tourism type tends experience style age gender relatively average consumption ability belongs economic type athletic ability relatively weak figure tourist portrait different scenic spot taking tomb xiaoxiao hangzhou garden example full size image visualization result tourist portrait beneficial west lake administration analyse characteristic scenic spot tourist provide specific customer service different scenic spot summary future work paper proposed advanced recommendation algorithm based gcn tourist evaluation route planning gcn-per designed visualization system scenic spot administration tourist evacuation route planning graph neural network recommendation algorithm combining tourism style similarity calculation proposed improving recommendation accuracy enhancing tourist willingness cooperate based distance recommended scenic spot real-time carrying capacity scenic spot considered optimize evacuation route based paper took west lake scenic area example visually analyse characteristic tourist scenic spot visualization system assist west lake management administration real-time monitoring scenic spot use gcn-per algorithm evacuation planning crowded scenic spot conducive balancing spatial temporal distribution tourist various scenic spot addition visualization system designed paper demonstrate evacuation efficiency scenic spot different parameter setting also limitation paper tourist willingness cooperate although conducted experiment impact different willingness cooperate evacuation effectiveness analysed superiority method theory meeting tourist travel preference attract tourist collaborate future calculate willingness tourist cooperate practical application optimize evacuation model based experimental result find degree willingness cooperate batch great impact evacuation effect parameter discussed visualization system future introduce parameter optimization model method adaptively adjust parameter