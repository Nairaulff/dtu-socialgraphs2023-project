introduction patellar luxation common orthopedic condition dog cause lameness secondary degenerative joint disease djd occurs medial lateral direction mpl lpl respectively graded severity 4-point scale mpl common lpl small-breed dog diagnosed mpl incidence mpl reported time higher small dog large dog breed affected include maltese poodle pomeranian since progressive disease high potential degrade quality life utmost importance diagnose disease early take preventive measure physical examination radiography commonly used diagnose method rely veterinarian subjective evaluation quadriceps angle used diagnose grade measured two line connecting three anatomic site line connecting anterior superior iliac spine midpoint patella line connecting tibial tuberate midpoint patella angle also represents direction force quadriceps muscle quadriceps angle measured using diagnostic imaging method including radiography computed tomography magnetic resonance imaging multiple study demonstrated strong correlation quadriceps angle quadriceps angle widely accepted reliable diagnostic index advance technology canine successfully diagnosed using region convolutional neural network r-cnn deep learning model radiographic image canine stifle joint however model requires radiographic image taken veterinarian obtained veterinary clinic study propose deep-learning model diagnosis using single rear-view image dog without need visit veterinary clinic best knowledge first deep-learning model detect without diagnostic image performance model compared diagnosis veterinarian gradient-weighted class activation mapping grad-cam applied visualize key area representative feature utilized classification process method data collection labeling study enrolled private animal clinic collect image dog july july clinic collected rear-view image hindlimb dog basic characteristic dog described table three picture hind limb three different angle dog label dataset veterinarian examined dog leg touched dog medial patella diagnosed presence severity mpl provided guideline clinic high-quality image allowed obtain hindlimb image accurately guideline contain dog hip leg location distance camera brightness addition information breed age weight presence disease also collected used study study experiment conducted animal hence legal issue animal research ethic table basic characteristic dog full size table data collector captured picture three different angle dog enrolled two professional veterinarian participate experiment select one three picture dog showed best mpl independently veterinarian excluded case mpl visible low image quality excessive noise figure show image normal stage mpl two veterinarian checked quality image independently could double-check figure representative case medial patellar luxation mpl stage normal mpl suspected stage mpl stage mpl stage mpl stage mpl unknown mpl suspected compared normal stage mpl bounded unclear 2-column full size image data preprocessing filtered rear view hindlimb image total image cnn-based model take rgb image input sampled image rgb image considering original shape ratio aimed prevent deformation preserve intended shape original photo within downsized image prevent overfitting deep learning model focused specific weight training process applied data augmentation training image data augmentation representative method ensuring generality training process deep learning model specifically data augmentation included following process random horizontal/vertical flip random affine rotation randomly translation left right range 0.1 0.1 pixel iii color jitter brightness 0.5 contrast 0.5 saturation 0.5 hue 0.5 data augmentation used training process image without transformation used testing model model architecture proposed model comprised dog-specific discriminator dog-specific encoder iii ensemble classifier figure show architecture proposed model figure architecture proposed ensemble model based resnet18 proposed model consists dog-specific discriminator dog-specific encoder iii ensemble classifier specifically resnet18-based dog-specific encoder consisted input layer convolutional neural network layer relu activation function five residual block adaptive-pooling layer layer sigmoid final sigmoid activation function used predict normal medial patellar luxation mpl 2-column full size image since input image may rear-view image hindlimb may taken odd angle occur single-image classification first stage dog-specific discriminator supplementary information discriminates whether input image dog hindlimb dog-specific discriminator consists one-class support vector machine svm placed front part model perform role discriminating whether dog one-class svm discriminator process follows first representation feature extracted input image dimension feature reduced principal component analysis pca pca one widely used dimensionality reduction method transform high-dimensional data low-dimensional data preserving distribution original data much possible consequently reduced 50,176 raw feature principal component image using pca projected component vector space found decision line could separate dog others moreover adjusting threshold discriminator model selected high-quality dog image specifically discriminator filter image mpl distinguished owing various noise increase accuracy reliability model enabled dog-specific discriminator identifies image dog image identified dog discriminator directed second stage processed feature extractor extract image feature second stage architecture built dog-specific encoder resnet18-based encoder diagnosis mpl using single rear-view image hindlimb shown table chose resnet18 among well-known cnn model baseline model accuracy best interestingly cnn model performance model improved layer became deep however layer became deep performance degenerated phenomenon called gradient-vanishing problem resnet well-known deep neural network solve vanishing gradient problem residual learning using skip connection advantage resnet18 parameter demonstrated best performance monotonous dog hindlimb image residual learning shown table accuracy resnet18 higher resnet deeper layer depth result dog-specific encoder comprised cnn layer five residual block followed rectified linear unit relu addition used adaptive pooling layer last pooling layer automatically adjusted stride kernel size input feature map applied transfer learning method reduce overfitting train model faster specifically initialized convolutional layer pre-trained weight imagenet dataset rear-view image dog hind limb simpler structure image similar shape fewer layer learning parameter performed well consequently proposed model 11,177,538 trainable parameter table performance comparison proposed model cnn model full size table finally applied ensemble method model training process overcome image uncertainty shown fig built five weight-independent classifier classifier made independent prediction input image model made final decision soft voting five prediction soft voting selects final predicted probability averaging prediction probability five classifier class thus model make fair decision without bias overfitting also supplement need information single image grad-cam visualization used grad-cam visualize region recognized important image dog hind limb grad-cam extract representative feature last layer output model show importance using heatmap interestingly region represented heatmap model recognized important decision-making calculated activated part using gradient feature map came cnn layer resulting heatmap highlight area image used classification model experiment setting performed fivefold cross-validation train evaluate model randomly divided dataset five fold trained model four time tested model remaining fold even shuffled data randomly split five fold certain class data gathered one fold due statistical probability trained model using ensemble learning method five fold average five test result obtained five classification validation process evaluated final performance model divided data dog dog duplicated training test data compare model cnn model performed five-fold cross-validation cnn model five data fold model including proposed model trained using batch size epoch utilizing adam optimizer learning rate 0.001 compare model five veterinarian selected image normal dog image dog mpl used training testing model data collector selected image professional veterinarian participate experiment verified image statistical analysis cohen kappa coefficient used rate agreement level two veterinarian used well-known python library scikit-learn perform statistical analysis calculation performance proposed model evaluated using following metric accuracy recall also called sensitivity score precision also called positive predictive value ppv metric calculated follows accuracy +\mathrm +\mathrm +\mathrm +\mathrm precision +\mathrm recall +\mathrm f1\ score 2\times 2\times +\mathrm +\mathrm total number image dog correctly diagnosed mpl total number image normal dog incorrectly categorized mpl total number image mpl improperly identified normal total number image normal dog misdiagnosed result contacted private animal clinic collected image dog three different angle dog average age dog 5.52 year average weight 5.59 table show characteristic dog hired experienced veterinarian select verify best-quality image among three picture dog moreover low-quality image excluded consequently normal dog dog mpl used train test model model performance table list accuracy proposed model well-known cnn model compare performance model utilized image normal dog dog mpl training utilized image form normal dog mpl dog testing model model based resnet18 showed 92.5 accuracy detecting mpl performance better vgg16 vgg19 resnet50 88.5 inception-v3 90.5 model showed highest accuracy among well-known cnn-based model performance comparison veterinarian table show five veterinarian accuracy proposed model five professional veterinarian recruited accuracy 50–60 diagnosing mpl looking single image average accuracy veterinarian 55.2 whereas model conduct fair experiment model veterinarian selected image normal dog image dog best quality comparison experiment used model training therefore higher accuracy proposed model even image veterinarian model never seen confirmed model higher accuracy diagnosing mpl experienced veterinarian table performance comparison proposed model human expert full size table analyzed case model correct figure show confusion matrix model five veterinarian average specificity sensitivity veterinarian 71.2 39.2 respectively shown fig high specificity low sensitivity indicate veterinarian diagnosed case normal dog conversely shown fig model never misclassified mpl normal misdiagnosed normal dog mpl figure comparison confusion matrix proposed model veterinarian proposed model confusion matrix five veterinarian confusion matrix denotes 5–10 year experienced veterinarian 2-column full size image figure show five case model made incorrect prediction although real answer normal five case model predicted mpl shown fig curvature leg observed clearly dog fur additionally shown fig dog leg seemed bent even though case normal noise caused model predict incorrectly figure comparison medial patellar luxation mpl detection proposed model human expert figure display five instance proposed model exhibited incorrect detection result ground-truth annotation five veterinarian v1–v5 expertise used benchmarking comparison human detection performance 2-column full size image kappa coefficient first fifth veterinarian third fourth veterinarian 0.39 0.50 demonstrating moderate agreement 0.001 diagnosing mpl contrast kappa coefficient third veterinarian model fifth veterinarian model 0.17 0.14 respectively demonstrating slight agreement 0.001 diagnosing mpl visualization model decision-making process grad-cam figure show feature-based heat map provided gradient-weighted class activation mapping grad-cam area highlighted grad-cam image medial patella mpl occurs corresponding part bent heat map confirms proposed model diagnosis mpl observing actual medial patellar location figure heat map proposed model prediction gradient weighted class activation mapping grad-cam grad-cam calculates representative region image training process grad-cam show important part model decision-making process heat map 2-column full size image discussion aimed build deep-learning model accurately diagnosis mpl using single rear-view image hind limb many previous study focused improving performance deep neural network drawing object outline using segmentation algorithm representative study improved object detection accuracy proposing accurate edge detector using richer convolutional feature rcf image therefore using segmentation algorithm performance proposed model also accurate however study first attempt accurately discriminate presence absence mpl even single picture taken smartphone model also showed higher accuracy well-known cnn model professional veterinarian without using segmentation algorithm following experiment conducted survey veterinarian found less-experienced professional veterinarian never diagnosed mpl examining single image lower accuracy compared proposed model two major image problem developing model diagnosing mpl single rear view image first input image could image dog low quality second single image could contain enough information detect mpl problem referred image uncertainty build stable model image uncertainty added special dog-specific discriminator front deep-learning system trained model using ensemble method dog-specific discriminator distinguishes dog background tuning threshold thus model focus dog specifically take picture dog hind limb person must hold dog thus person background inevitably included image noise therefore discriminator automatically discriminates dog others hence trainable image fed model input moreover used ensemble method overcome lack information single image ensemble method yield accurate stable prediction generating multiple classifier combining prediction single model prediction easily overfit however ensemble method prevent overfitting combining independent prediction several classifier trained proposed model using ensemble method developed robust model overcome uncertainty single image study several limitation first diagnosing mpl single image taken strict standard considered input model provided guideline data collector let take rear-view picture dog hindlimb condition guideline follows taking photo dog hindlimb one person hold dog another take horizontal picture dog buttock dog buttock paw kneecap medial patella visible however real world people take photo dog hindlimb various angle severity mpl may differ depending angle sight hence diagnosing mpl using single image taken real world limited however study used image taken specified condition mpl well revealed using single image second used single image formed front hindlimb without considering image taken various angle thus study information mpl multiple angle considered veterinarian diagnose mpl also examine extent patella bent various angle model would accurate trained using multiple image taken different angle thus future study develop multi-image input model based 3d- cnn multi-instance model attention model increase accuracy mpl diagnosis considering image taken various angle creating robust model third noise exists image dog different hair shape depending breed hair complex case model determine presence absence mpl figure show incorrect decision model classifying hairy dog based study estimating shape face finding key point face deep neural network problem solved drawing dog outline capturing key point joint calculating bent patella angle lastly mpl occurs often smaller older dog model diagnosis mpl using one rear-view image hindlimb without considering dog information figure confirms veterinarian diagnose using one hind leg image diagnosing mpl moreover interviewed veterinarian experiment veterinarian answered challenging diagnose mpl looking single image veterinarian never diagnosed mpl looking one image thus follow-up study trying create model diagnosing patella dislocation considering hind leg image dog age weight sex breed expect proposed model robust providing additional information model input summary created deep learning system diagnosis mpl accuracy using single image hind limb attached dog-specific discriminator front model discriminate dog regardless image model could distinguish whether input image dog addition verify robustness applied ensemble learning method solve various problem diagnosing patellar dislocation using single image proposed model support veterinarian diagnosing patellar luxation