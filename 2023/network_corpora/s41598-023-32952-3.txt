introduction cellular positioning standardized feature communication protocol since third generation partnership project 3gpp fifth generation release location service lcss introduced regulatory use-cases lawful interception emergency call 3gpp release support commercial roaming lcs capability provided moreover release doe introduce novel positioning technique aside cell-id placement thus reusing positioning technique available long term evolution lte protocol 3gpp release support mobile-originated location request mo-lr i.e. initiated client mobile-terminated location request mt-lr i.e. started network firstly introduced cellular telecommunication standard achieved introducing dedicated positioning signal referred positioning reference signal enhance cellular positioning technology improving correlation property lte distinct innovative feature include improved correlation property respect signal improved hearability thanks concept muting thereby cellular communication standard advanced design physical layer specifically address positioning application need accurate reliable secure cellular positioning emerged number beyond application vertical geolocation geomarketing augmented reality asset monitoring social medium moreover information position user equipment network apparata also strategic location-aware communication device-to-device communication vehicular communication new paradigm wireless communication using reconfigurable intelligent surface potential impact cellular technology delivering breakthrough position-related service embracing new market application foreseen 3gpp standard documentation however present main issue related hardware limitation specifically cellular positioning capability strongly dependent precise network synchronization local clock cellular base station accurately synchronized common network timing reference bias error present measuring time-related parameter thus impairing precise positioning time arrival toa time difference arrival tdoa method worth noting issue doe affect round trip time rtt method range error mainly due propagation delay clock drift accumulated rtt synchronization problem widely investigated literature still remains one biggest source error precise positioning cellular network communication uplink downlink transmission base station ues scheduled temporal slot thus synchronization among clock required univocal reference timing given unfeasibility providing atomic clock side synchronized navigation satellite system gnss precision time protocol version ptpv2 created meet synchronization requirement ptpv2 protocol behaves according primary-and-secondary clock paradigm primary reference clock deployed backhaul cellular network provides timestamps secondary clock contrary placed trps i.e. cellular base station secondary clock adjusts local clock keep precise time alignment primary clock although ptpv2 protocol attracted significant interest capability jamming resistance indoor deployment actual implementation could achieve clock synchronization accurate 1.5\ recommended international telecommunication union itu converting time error distance error 450\ introduced confirming cellular network never conceived accurate positioning purpose far therefore clock synchronization issue emerges key limiting factor roll-out precise lcss definite solution yet come possible option mitigate problem could including precise oscillator temperature-controlled crystal oscillator tcxos accuracy approximately 100\ oven-controlled crystal oscillator ocxos accuracy 50\ moreover additional solution based already available integrated access backhaul iab could calculate synchronization error across trps store database share assistance information since 3gpp release positioning feature foreseen operational earlier late available current release ass positioning capability current network using ssbs ssbs represent special category signal trp periodically broadcast spatial communication beam enabling establish cellular connection detail initial access phase omitted reader refer recommended periodicity ssbs although 3gpp standard foresees also periodicity i.e. different time-domain pattern ssb transmission exist differing according signal frequency distinguishing among frequency lower ghz ghz ghz higher ghz sub-carrier spacing pattern referred case detailed table pattern also characterized number consecutive ssbs ssb sent burst intuitively pattern specifies many spatial directional beam trp enable discovery ues figure report possible ssb pattern highlighting higher number beam used high frequency e.g. millimeter wave higher value ssb indicate trp able densely scan spatial domain directional beam table ssb resource allocation full size table figure ssb pattern described 3gpp release standard full size image paper measure toa ssb real urban rural scenario final aim assessing impact synchronization error cellular positioning current network deployment done knowing periodicity ssb pattern exact position trps main scientific contribution relies upon thorough study synchronization error equivalently range bias impact positioning accuracy analyzing urban rural scenario trps visibility non-visibility condition analyze decorrelation period time drift internal clock base station finally investigate positioning capability real system assessing raw synchronization-compensated ranging measurement paper organized follows section result report main outcome measurement campaign i.e. range bias distribution clock decorrelation period positioning performance examine reported analysis section discussion derive conclusion suggest future research direction lastly section method provide information data gathering data filtering process together main adopted performance metric positioning algorithm figure representation urban scenario selected experiment composed three site red square trps red icon indicated pci identifier measurement point blue icon power map computed matlab ray-tracing software ground level full size image figure three site urban scenario fig related trps trp color pci number indicates visibility condition green color los red color nlos full size image result investigate cellular positioning performance impact synchronization vodafone network deployed milan italy operating frequency band n78 carrier frequency 3.68 ghz aim ass network readiness accommodate precise positioning service experiment conducted research measure signal defined 3gpp release standard doe include although considered vodafone network compliant 3gpp release deployment undergone modification alteration permit experiment used rohde schwarz tsma6 scanner passively receive signal described section method scanner placed top building campus leonardo politecnico milano visibility condition least three trps guaranteed remark bandwidth ssb signal much narrower one foreseen analysis consider frequency occupancy khz subcarrier leading overall occupied bandwidth 7.2 mhz ssb pattern numerology periodicity used resource block subcarriers result reported section reveal present trps subject synchronization error prevents precise positioning measure mean error corresponds ranging error clearly error need estimated tracked compensated dedicated location measurement unit algorithm roll precise positioning service nevertheless analysis show clock bias tracking compensation current deployment network release would possible localize static error 8-10\ reported section positioning performance clock offset statistic first analyze statistic synchronization error among trps condition non-obstructed visibility i.e. line-of-sight los obstructed visibility non-los trp synchronization bias measured placing network scanner set known location los condition computing error range estimate described section method consider urban geographical area fig report nine trps examination red marker clustered three site highlighted fig unequivocally identified physical cell pcis along five measurement point blue marker put scanner receiving ssbs note figure obtained matlab ray-tracing software reported contextualization visualization purpose providing insight layout experiment described hereafter consider simulation real measurement geometrical analysis ray-tracing trps los condition one pci number contrary trps obstructed visibility pci number regarding synchronization aspect obtained either legacy synchronous ethernet/1588v2 sfp via gnss specifically experiment trps pcis 80-127-252-382-383-402 synchronized ptpv2 trps pcis 386-394-411 use sfp via gnss technology figure distribution synchronization error meter i.e. range bias trps visibility identified pcis ssb beam full size image figure distribution synchronization error meter i.e. range bias trp non-visibility identified pcis ssb beam full size image analysis clock error reported fig term histogram range bias i.e. synchronization error converted meter eight ssb beam trps visibility measured distribution report twofold behavior pcis range bias distribution mono-modal note presence one clear peak pci present wider dispersion without clearly defined shape considering visibility condition well-respected mono-modal distribution pcis somehow understandable los distribution time flight error little affected multipath component however remark range error mean value i.e. bias pcis respectively discussed later section positioning performance compensation bias key operation unlock precise positioning service network moving analysis trp pci notice completely different distribution given scanner simultaneously measured signal received trps attribute anomalous behavior trp pci particular case trp pcis adopted ptpv2 standard provides high-quality frequency synchronization irrespective network load physical layer ethernet interface protocol provide timing accuracy least 100\ i.e. 30\ improved precise local oscillator aspect investigated section clock offset coherence time analysis non-visibility condition reported fig compared los case fig major difference shape distribution manifest different peak mostly likely generated multipath phenomenon due nlos fact observed range error generated clock error also multipath contribution moreover wider support large mean error overall mean non-visibility trps absence received signal also experienced due higher emitted power trps i.e. around 10-20\ los contribution likely present hard isolate joint tracking time range bias account different visibility condition advisable figure normalized autocorrelation function range bias trp pci ssbs full size image clock offset coherence time second analysis focus temporal variability synchronization error objective quantifying coherence time defined time clock error auto-correlation coefficient drop predefined threshold extremely useful understand often information clock correction provided ues case ue-based localization normalized autocorrelation function computed compared threshold obtained using two standard error sample autocorrelation confidence bound refer section method detail purpose consider pci visibility plot fig normalized autocorrelation function range error ssb beam plot figure first notice range error ssb correlated time i.e. stable time compared ssbs behavior expected beam ssb directed towards location scanner i.e. along geometrical los contrary range error extracted beam shorter coherence time e.g. autocorrelation even impulsive ssb demonstrating uncorrelation property range bias frequently subject multipath phenomenon multipath main effect random spike range bias increase signal decorrelation follows analysis autocorrelation property used detect los beam verified analysis received power section method clearly identify ssb beam along direct path concern coherence time setting threshold 0.2 autocorrelation function get coherence time 30-35\ second value indicative suggest update clock synchronization period larger 30-35\ second note second even visibility range bias becomes completely uncorrelated since autocorrelation drop confidence bound 2\sigma\ computed considering range bias gaussian white noise process standard deviation 1/\sqrt number range bias sample complete analysis table show coherence time indicated coh associated mean power pci i.e. ssb note pci hold similar behavior respect pci ssb higher coherence time corresponds higher received mean power verifying detection los beam autocorrelation property table clock offset coherence time coh table mean received power table per pci ssb full size table contrary trps pci hold much narrow range bias distribution trp pci much higher drift time highlight aspect fig report range bias associated received power measuring time identify los beam also report corresponding power per ssb together associated range bias value radial considering los beam pci i.e. ssb measure rate change range bias time i.e. clock drift 0.3 m/s cause wide support fig compatible ocxos typically adopted cellular trps hold drift 0.1 part per billion ppb equivalent 0.03 m/s m/s order discus idea drift caused near site distance point drift observed three pcis belonging site discussion i.e. pci five reception point given severe observed offset compensating type error becomes paramount importance moreover stable range bias one belonging pci compensated a-priori clock-offset estimation drift constantly tracked communicated assistance data ues figure evolution range bias time pci corresponding representation received power per beam color indicate value measured received power dbm full size image positioning performance last assessment objective verifying impact synchronization error positioning performance current network deployment particular perform two experiment verify effect estimating compensating range bias localization figure simulated representation rural scenario composed trps red icon identified indicated pci number static measurement point blue icon power map computed matlab ray-tracing software ground level full size image consider two different positioning scenario urban area milan fig leonardo campus politecnico milano rural area suburb milan see fig former multipath expected relevant play crucial role often creating multi-modal distribution range error latter hand los condition mostly available larger distance trps might cause reduction received power evaluation positioning urban scenario considered three trps los i.e. pcis rural scenario selected four trps los i.e. pcis regarding synchronization technology pci adopts precision time ptpv2 protocol pcis use sfp via gnss selection los trps based analysis clock offset distribution described section clock offset statistic geographical position respect three different localization method compared snapshot i.e. without tracking time non-linear least square nls algorithm without range bias correction blue scatter point nls range bias correction green scatter point tracking time extended kalman filter ekf range bias correction purple scatter point method confidence ellipse estimate fall inside ellipse reported cramérrao bound crb ellipse yellow considering standard deviation range bias achievable accuracy given bandwidth shown reference lastly blue icon indicates ground truth position red icon identify trps mean position estimate error bias denoted black star marker solid black line respectively assessment considered following performance metric mean absolute error mae distance root mean square drms error ellipse confidence moreover method plot cumulative density function cdf positioning error complete list result i.e. mae circular error probable cep bias norm drms urban rural scenario reported table table positioning performance comparison full size table figure urban scenario scatterplot position estimate case range correction green square without range correction blue square ekf ellipsis obtained confidence level black square solid black line represent mean position estimate error bias respectively crb highlighted orange line cdf positioning error full size image figure rural scenario scatterplot position estimate case range correction green square without range correction blue square ekf ellipsis obtained confidence level black square solid black line represent mean position estimate error bias respectively crb highlighted orange line cdf positioning error full size image result static positioning urban scenario presented fig comparing nls approach remark beneficial effect range bias correction reduces mae localization analyzing variance location estimate removing bias use crb benchmark specifically nls range bias correction cep 16.4 higher crb 10.3 adopting tracking filter positioning taking account correlation position time performance improvement nls achieved including mobility information quasi-static ekf achieves mae 8.2 cep 7.8 moving rural scenario increased number trps visibility much higher distance compared urban area see scale bottom-right corner fig result analysis reported fig method adopted urban area used localization nls without range bias correction achieves mae i.e. bigger urban case range correction use ekf lead increased positioning performance maes 24.6 10.7 respectively discussion according analysis result reported section result conclude synchronization constitutes major issue precise cellular positioning considering current network deployment characterized 3gpp release standard relative-narrow bandwidth ssbs 7.2 mhz high clock drift trps positioning accuracy 8.2 10.7 achieved urban rural environment respectively upon compensating synchronization error remark done without alteration network gathering passive signal achieve performance tracking filter together almost perfect correction synchronization error used deployment future release improve cellular coverage use larger signal bandwidth e.g. 3gpp release network synchronization still remain great challenge context relative time error nearby base station important factor novel synchronization algorithm defined promising solution over-the-air synchronization oas even optical fiber synchronization explained section method adopted single scanner experiment gathering separately i.e. different time range bias statistic measurement adopted positioning led unavoidable positioning error quantified standard deviation range-biases distribution 13-15\ case order obtain cm-level accuracy required challenging application e.g. cellular positioning automated driving range bias measured shared ues future work could extend study direction exploiting higher signal bandwidth also precise beam management joint use multi-constellation gnss observation moreover advanced synchronization technique track real-time range correction also interest well use filtering technique jointly estimate position clock offset trps method study effect synchronization currently deployed network conducted number experiment tsma6 scanner capable simultaneously measuring signal mhz ghz tsma6 scanner make use internal pulse per second pps signal generator determine time arrival signal scanner requires configuration procedure select frequency band load module e.g. scanner gnss acquire gnss signal fully configured able simultaneously measure multiple signal different trps outputting measurement every sampling frequency instrument 30.72 mhz among one interest study ssbs specifically scanner output toa detected ssb information available technical name toa pps since gnss pps time reference toa pps refers time arrival within ssb shall notice post-processing performed scanner order retrieve final time arrival toa value scanner internal processing involves computation cross-correlation received signal used determine top- multipath component i.e. component highest cross-correlation value decision value ranking set average signal-to- interference-plus-noise ratio sinr provides balance signal strength quality among top- multipath component one lowest toa pps selected toa estimation approach ensures robustness mitigating ambiguity due early arrival important note scanner doe permit full access physical level parameter automatically performs toa estimation processing therefore analysis carried based processed output provided scanner datasheet scanner specifies granularity good gnss visibility level precision allows accurate measurement toa signal crucial study measurement uncertainty scanner report chosen average sinr used quality metric measurement also synchronization signal -received signal received power rsrp referred received power fig show concise representation beam i.e. ssbs sent trps since ssbs transmitted different spatial direction scanner acquires signal coming los nlos beam knowing frame structure employed numerology ssb transmission pattern measuring toa ssb estimate distance transmitting trp receiving i.e. scanner measured delay received signal composed time flight tof propagation multipath effect additional contribution desynchronization source unknown error inside hardware define start time transmission beginning frame trp instant transmission ssb trp reception scanner respectively clock offset receiver i.e. scanner trp indicated t_i\ respectively defining trp _i\ position trp scanner respectively goal estimate true tof trp ssb scanner estimate defined aligned t_i t_i aligned range error due multipath noise radio receiver respectively given experiment conducted controlled best possibility los condition multipath effect minimized los mainly guaranteed least one beam assume toa measurement gathered equipment refer direct path concern receiver noise observe standard deviation ranging error due source error nearly order magnitude smaller standard deviation synchronization error reason focus range bias due synchronization error neglecting characterization error contribution leading approximation toa measured receiving scanner trp ssb aligned toa start t_i start t_i aligned thus possible compute tof subtracting time interval start frame start expected transmission ssb measured arrival time toa example interval start ssb numerology f=3.68\ ghz ssb case see fig ofdm symbol interval i.e. 71.875 transform aligned toa start start t_i start aligned possible trps common reference gnss time therefore able nominally compute start frame start except local clock error measured tof knowing exact distance transmitting trps receiving possible compute synchronization error synch trp aligned synch i-\text t_i t_i aligned i-\text trp _i- distance trp receiving scanner propagation speed position measurement point measured real-time kinematic rtk technology positioning service provided spin3 gnss placing rtk receiver right antenna scanner since rtk technology guarantee accuracy centimeter considering final error positioning order several meter safely use rtk output exact coordinate hand coordinate trps measured merging rtk survey site boundary remark accessing site reaching height antenna extremely challenging architectural drawing site resulting highly-reliable information order decimeter still much lower positioning error highlight clock difference t_i separated two offset component related perfectly synchronized time-axes measured therefore measure difference offset two asynchronous clock figure ssb beam sweeping along different direction receiver i.e. tsma6 scanner gather direct reflected signal experimenting multipath delay t_i\ clock offset trp respectively contrary distance trp indicated i-\text full size image ranging error consist offset clock scanner clock trps assumption los propagation guarantee assumption need understand beam los i.e. beam pointing towards scanner aim knowing azimuth elevation panel array trp fig report associated power per ssb i.e. per beam together associated range bias value radial knowing technical implementation feature vodafone trps able state represented trp los pci cover spatial sector degree azimuth high-beams roughly deg beamwidth low-beams roughly deg beamwidth high-beams referred ssb number low-beams ssb number specific trp pci visibility condition beam higher received power ssb number average received power -90\ dbm contrary received power beam low -120\ dbm peculiar fact analyzing spread range bias sample appear hold support i.e. also shown fig due fact scanner able receive even attenuated signal low-power received signal obtained direct path indeed radiation pattern antenna panel even highly directional doe retain null gain undesired direction propagation aspect non-optimal communication aspect high received power enables higher throughput still useful positioning key information shortest path study section clock offset coherence time computed normalized autocorrelation function clock error time series y_t\ aligned r_k t=1 t-k y_t t+k t=1 y_t aligned r_k\ autocorrelation lag mean time series total number observation coherence time defined lag autocorrelation drop given threshold threshold obtained using two standard error sample autocorrelation confidence bound formula standard error using bartlett approximation aligned 2\sum i=1 r_i^2\right aligned lag beyond autocorrelation function given availability single scanner carried range bias estimation measurement collection positioning two separate datasets urban scenario considered four reception point range error computation beginning experiment one reception point end testing contrary rural area opposite procedure testing measurement phase last interval measurement point scenario approximately minute given unfeasibility tracking real-time range bias used median value range bias distribution a-priori compensation averaged across measurement point also note real application computed coherence time serve reference time interval estimating clock offset word range bias estimated compensated least within coherence time even continuously tracking positioning performed every second gathering tof measurement measured ssbs within temporal window denoting l_i set tof measurement trp measurement trp position trp _i\ interval compute median value measured tof trp aggregated vector tof measurement created aligned bmatrix bmatrix bmatrix med med bmatrix aligned med median operator number detected trps bidimensional position estimate computed according nls algorithm jacobian matrix i-\text row i-\text row =\vert trp _i- tof measurement model nls algorithm implemented iterative search estimate according gauss-newton methodology ekf random walk motion model figure radial represents range bias meter color indicates received power measure show beam respectively full size image confidence ellipse obtained error covariance matrix defined aligned aligned confidence level computed considering horizontal accuracy 2\sigma 2\sqrt denotes trace argument matrix finally mae extracted mae order lower bound positioning error computed crb deriving fisher information matrix range-based localization problem account tof measurement error geometrical condition trps crb computation assumed tof measurement gaussian unbiased uncorrelated link single-path los follows standard deviation ranging measurement trp aligned 2\sqrt snr_ aligned effective bandwidth assumed equal 7.2 mhz snr_ signal-to-noise ratio directly computed scanner average received energy trp n_0/2\ represents spectral density additive white gaussian noise final crb covariance matrix crb position estimate obtained aligned crb aligned geometric dilution precision gdop positioning problem